import"./esm-shims-CtP6w_ML.js";import"./config-DYqAlsU3.js";import"./logger-BlLSmUdl.js";import"./ofetch-CWQqZcqz.js";import"./helpers-RrXnNmv1.js";import{cache_default as e}from"./cache-CvppK6AM.js";import{parseDate as t}from"./parse-date-DHsdom8D.js";import{got_default as n}from"./got-BwctkUCD.js";import{timezone as r}from"./timezone-CCdTtC9I.js";import{load as i}from"cheerio";const a={tuijian:`tuijian`,TMT:`TMT`,jinrong:`jinrong`,dichan:`dichan`,xiaofei:`xiaofei`,yiyao:`yiyao`,wine:`wine`,IPO:`IPO`},o={path:`/finance/:category?`,categories:[`new-media`],example:`/china/finance`,parameters:{category:`Category of news. See the form below for details, default is suggest news.`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`finance.china.com/:category`]}],name:`Finance News 财经 - 财经新闻`,maintainers:[`KingJem`],handler:s,description:`| 推荐    | TMT | 金融    | 地产   | 消费    | 医药  | 酒业 | IPO 观察 |
| ------- | --- | ------- | ------ | ------- | ----- | ---- | -------- |
| tuijian | TMT | jinrong | dichan | xiaofei | yiyao | wine | IPO      |

  > Note: The default news num is \`30\`.

  > 注意：默认新闻条数是 \`30\`。`};async function s(o){let s=`https://finance.china.com`,c=a[o.req.param(`category`)]??a.tuijian,l=`${s}/${c}`,u=await n(l),d=u.data,f=i(d),p=f(`.list-hd strong`).text(),m=`中华网-财经-${p}新闻`,h=o.req.query(`limit`)?Number.parseInt(o.req.query(`limit`),10):30,g=f(`.item-con-inner`).map((e,t)=>(t=f(t),{link:t.find(`.tit>a`).attr(`href`)})).get().filter(e=>e.link!==void 0).slice(0,h),_=await Promise.all(g.map(a=>e.tryGet(a.link,async()=>{let e=await n(a.link),o=i(e.data);return{title:o(`.article_title`).text(),link:a.link,description:o(`#js_article_content`).html(),pubDate:r(t(o(`.article_info>span.time`).text()),8),author:o(` div.article_info > span.source`).text(),category:m}})));return{title:f(`head title`).text(),link:l,category:m,item:_}}export{o as route};