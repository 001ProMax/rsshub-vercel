import"./esm-shims-CtP6w_ML.js";import"./config-DYqAlsU3.js";import"./logger-BlLSmUdl.js";import"./ofetch-CWQqZcqz.js";import"./helpers-RrXnNmv1.js";import{parseRelativeDate as e}from"./parse-date-DHsdom8D.js";import{got_default as t}from"./got-BwctkUCD.js";import{load as n}from"cheerio";const r={path:`/free/:type?`,categories:[`reading`],example:`/qidian/free`,parameters:{type:`默认不填为起点中文网，填 mm 为起点女生网`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`www.qidian.com/free`],target:`/free`}],name:`限时免费`,maintainers:[`LogicJake`],handler:i,url:`www.qidian.com/free`};async function i(r){let i=r.req.param(`type`),a,o;i===`mm`?(a=`https://www.qidian.com/mm/free`,o=`起点女生网`):(a=`https://www.qidian.com/free`,o=`起点中文网`);let s=await t(a),c=n(s.data),l=c(`#limit-list li`),u=l.map((t,n)=>{n=c(n);let r=`<img src="https:${n.find(`.book-img-box img`).attr(`src`)}">`,i=`<p>评分：${n.find(`.score`).text()}</p>`,a=`<a href=https:${n.find(`p.update > a`).attr(`href`)}>${n.find(`p.update > a`).text()}</a>`;return{title:n.find(`.book-mid-info h4 a`).text(),description:r+i+a+`<br>`+n.find(`p.intro`).html(),pubDate:e(n.find(`p.update span`).text()),link:`https:`+n.find(`.book-mid-info h4 a`).attr(`href`),author:n.find(`p.author a.name`).text()}}).get();return{title:o,description:`限时免费-${o}`,link:a,item:u}}export{r as route};