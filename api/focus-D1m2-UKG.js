import"./esm-shims-CtP6w_ML.js";import"./config-DYqAlsU3.js";import"./logger-BlLSmUdl.js";import"./ofetch-CDAeBYLA.js";import"./helpers-RrXnNmv1.js";import{cache_default as e}from"./cache-7MGQxbL-.js";import{parseDate as t}from"./parse-date-B2cCVoGk.js";import{got_default as n}from"./got-Cw4D6IS5.js";import{load as r}from"cheerio";const i=`https://www.pconline.com.cn`,a={all:{title:`全部`,path:``},tech:{title:`科技`,path:`tech/`},finance:{title:`财经`,path:`finance/`},life:{title:`生活`,path:`life/`},company:{title:`公司`,path:`company/`},character:{title:`人物`,path:`character/`}},o=t=>e.tryGet(t.link,async()=>{let e=await n({method:`get`,url:`https:${t.link}`,responseType:`arrayBuffer`}),i=new TextDecoder(`GBK`),a=i.decode(e.data),o=r(a);return t.description=o(`.context-box .context-table tbody td`).html(),t}),s=async e=>{let{category:r=`all`}=e.req.param(),s=a[r]||a.all,c=`${i}/3g/other/focus/${s.path}index.html`,l=await n({method:`get`,url:c}),u=l.data.replace(/Module\.callback\((.*)\)/s,`$1`).split(`
`).filter(e=>e.indexOf(`"tags":`)!==0).join(`
`).replaceAll(`'`,`"`),d=u.replaceAll(/[\n\r]/g,``),f=d.replaceAll(`,}`,`}`),p=JSON.parse(f||``),{articleList:m}=p,h=m.map(e=>({id:e.id,title:e.title,author:[{name:e.authorname,avatar:e.authorImg}],pubDate:t(e.pc_pubDate),link:e.url,description:e.summary,category:e.channelName,image:e.cover})),g=await Promise.all(h.map(e=>o(e)));return{title:`太平洋科技-${s.title}`,link:c,item:g}},c={path:`/focus/:category?`,categories:[`new-media`,`popular`],example:`/pconline/focus`,parameters:{category:{description:`科技新闻的类别，获取最新的一页，分别：all, tech, finance, life, company, character`,default:`all`}},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`pconline.com.cn/focus/`,`pconline.com.cn/`],target:`/focus`}],name:`科技新闻`,maintainers:[`CH563`],handler:s,description:`::: tip
| 全部 | 科技 | 财经 | 生活 | 公司 | 人物 |
| --- | --- | --- | --- | --- | --- |
| all | tech | finance | life | company | character |
:::`};export{s as handler,c as route};