import"./esm-shims-CtP6w_ML.js";import"./config-DYqAlsU3.js";import"./logger-BlLSmUdl.js";import"./ofetch-CWQqZcqz.js";import"./helpers-RrXnNmv1.js";import{cache_default as e}from"./cache-CvppK6AM.js";import{parseDate as t}from"./parse-date-DHsdom8D.js";import"./got-BwctkUCD.js";import"./timezone-CCdTtC9I.js";import{rss_parser_default as n}from"./rss-parser-YsVv5RZS.js";import{categories as r,getInfo as i,processItems$8 as a,rootRSSUrl as o,rootUrl$16 as s,title as c}from"./util-cQYLWM8Q.js";const l={path:[`/cid/:id?`,`/zhibo`],name:`Unknown`,maintainers:[],handler:u,url:`m.mydrivers.com/`};async function u(l){let u=l.req.param(`id`),d=l.req.query(`limit`)?Number.parseInt(l.req.query(`limit`),10):100,f=u?`?cid=${u}`:``,p=new URL(u?`newsclass.aspx${f}`:``,s).href,m=new URL(`rss.aspx${f}`,o).href,h=await n.parseURL(m),g=h.items.slice(0,d).map(e=>({title:e.title,link:e.link,description:e.content,author:e.creator,category:e.categories,guid:e.guid.match(/\/(\d+)\.htm/)[1],pubDate:t(e.isoDate)}));return u&&(g=await a(g,e.tryGet)),{...await i(p,e.tryGet),item:g,title:`${c} - ${h.title.split(/_/).pop()||r.zhibo}`}}export{l as route};