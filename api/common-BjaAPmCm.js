import{__dirname as e,init_esm_shims as t}from"./esm-shims-CtP6w_ML.js";import{cache_default as n}from"./cache-CvppK6AM.js";import{art as r}from"./render-DE4LRFBD.js";import{got_default as i}from"./got-BwctkUCD.js";import a from"node:path";import{load as o}from"cheerio";t();const s=async()=>{let e=`https://openai.com/blog`,t=await i({method:`get`,url:e}),n=t.data.toString().match(/(?<=TWILL_API_BASE:").+?(?=")/)[0].replaceAll(String.raw`\u002F`,`/`);return new URL(n)},c=(t,s,c)=>n.tryGet(c.slug,async()=>{let t=`${s}/${c.slug}`,n=await i({method:`get`,url:t}),l=o(n.data),u=l(`[aria-labelledby="metaAuthorsHeading"] > li > a > span > span`).toArray().map(e=>l(e).text()).join(`, `),d=l(`*`).contents().filter(function(){return this.nodeType===8});d.remove(),l=l(`#content`);let f=c.seo.ogImageSrc,p=c.seo.ogImageAlt,m=r(a.join(e,`templates/article-88d59063.art`),{content:l,imageSrc:f,imageAlt:p});return c.tags=c.tags||[],{title:c.title,author:u,description:m,pubDate:c.createdAt,category:c.tags.map(e=>e.title),link:t}});export{s as getApiUrl,c as parseArticle$5};