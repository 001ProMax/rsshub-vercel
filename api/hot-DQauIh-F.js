import"./esm-shims-CtP6w_ML.js";import"./config-DYqAlsU3.js";import"./logger-BlLSmUdl.js";import"./ofetch-CWQqZcqz.js";import"./helpers-RrXnNmv1.js";import{got_default as e}from"./got-BwctkUCD.js";const t={path:`/hot/:site?`,categories:[`new-media`],example:`/zyw/hot`,parameters:{site:`站点，见下表，默认为空，即全部`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},name:`今日热榜`,maintainers:[`nczitzk`],handler:n,description:`::: tip
  全部站点请见 [此处](https://hot.zyw.asia/#/list)
:::

| 哔哩哔哩 | 微博 | 知乎 | 36 氪 | 百度 | 少数派 | IT 之家 | 澎湃新闻 | 今日头条 | 百度贴吧 | 稀土掘金 | 腾讯新闻 |
| -------- | ---- | ---- | ----- | ---- | ------ | ------- | -------- | -------- | -------- | -------- | -------- |`};async function n(t){let n=t.req.param(`site`)??``,r=`https://hot.zyw.asia`,i=`https://api-hot.zyw.asia`,a=await e({method:`get`,url:r}),o=`${r}${a.data.match(/crossorigin src="(\/assets\/index-\w+\.js)">/)[1]}`;a=await e({method:`get`,url:o});let s=a.data.match(/label:"(.*?)",value:"(.*?)",order/g).map(e=>{let t=e.match(/label:"(.*?)",value:"(.*?)"/);return{label:t[1],value:t[2]}}).filter(e=>n?e.label===n||e.value===n:!0),c=`${r}${n?`/#/list?type=${s[0].value}`:``}`,l=[];return await Promise.all(s.map(async t=>{let n=await e({method:`get`,url:`${i}/${t.value}`,headers:{referer:r}});for(let e of n.data.data)l.push({link:e.url,title:e.title,description:e.desc})})),{title:`今日热榜${n?` - ${s[0].label}`:``}`,link:c,item:l}}export{t as route};