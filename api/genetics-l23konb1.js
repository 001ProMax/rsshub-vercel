import"./esm-shims-CtP6w_ML.js";import"./config-DYqAlsU3.js";import"./logger-BlLSmUdl.js";import"./ofetch-CWQqZcqz.js";import"./helpers-RrXnNmv1.js";import{parseDate as e}from"./parse-date-DHsdom8D.js";import{got_default as t}from"./got-BwctkUCD.js";import{load as n}from"cheerio";const r=`https://genetics.cas.cn`,i={path:`/genetics/:path{.+}`,name:`Unknown`,maintainers:[],handler:a};async function a(i){let a=i.req.param(`path`),o=`${r}/${a}/`,{data:s}=await t(o),c=n(s),l;return l=a.substring(0,3)===`edu`?c(`li.box-s.h16`).toArray().map(t=>{t=c(t);let n=t.find(`a`).first(),r=t.find(`.box-date`).first();return{title:n.text(),link:new URL(n.attr(`href`),o).href,pubDate:e(r.text(),`YYYY-MM-DD`)}}):a.substring(0,4)===`dqyd`?c(`div.list-tab ul li`).toArray().map(t=>{t=c(t);let n=t.find(`a`).first(),r=t.find(`.right`).first();return{title:n.text(),link:new URL(n.attr(`href`),o).href,pubDate:e(r.text(),`YYYY-MM-DD`)}}):c(`li.row.no-gutters.py-1`).toArray().map(t=>{t=c(t);let n=t.find(`a`).first(),r=t.find(`.col-news-date`).first();return{title:n.text(),link:new URL(n.attr(`href`),o).href,pubDate:e(r.text(),`YYYY.MM.DD`)}}),{title:c(`head title`).text(),link:o,item:l}}export{i as route};