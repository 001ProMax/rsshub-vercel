import"./esm-shims-CtP6w_ML.js";import"./config-DYqAlsU3.js";import"./logger-BlLSmUdl.js";import"./ofetch-CWQqZcqz.js";import"./helpers-RrXnNmv1.js";import{parseDate as e}from"./parse-date-DHsdom8D.js";import{got_default as t}from"./got-BwctkUCD.js";import{timezone as n}from"./timezone-CCdTtC9I.js";import{load as r}from"cheerio";const i=`http://rsj.taiyuan.gov.cn/`,a={path:`/taiyuan/rsj/:caty/:page?`,categories:[`government`],example:`/gov/taiyuan/rsj/gggs`,parameters:{caty:`信息类别`,page:`页码`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`rsj.taiyuan.gov.cn/*`]}],name:`太原市人力资源和社会保障局政府公开信息`,maintainers:[`2PoL`],handler:o,url:`rsj.taiyuan.gov.cn/*`,description:`| 工作动态 | 太原新闻 | 通知公告 | 县区动态 | 国内动态 | 图片新闻 |
| -------- | -------- | -------- | -------- | -------- | -------- |
| gzdt     | tyxw     | gggs     | xqdt     | gndt     | tpxw     |`};async function o(a){let o=a.req.param(`caty`),s=a.req.param(`page`)??`1`,c=Number.parseInt(s)>1?`_${s}`:``,l=`/zfxxgk/${o}/index${c}.shtml`,u=new URL(l,i),d=await t(u.href);if(d.statusCode!==200)throw Error(d.statusMessage);let f=r(d.data,{decodeEntities:!1}),p=f(`.tit`).find(`a:eq(2)`).text(),m=f(`.RightSide_con ul li`).map((t,r)=>{let i=f(r).find(`a`),a=f(r).find(`span.fr`);return{title:i.attr(`title`),link:i.attr(`href`),pubDate:n(e(a.text(),`YYYY-MM-DD`),8)}}).get();return{title:`太原市人力资源和社会保障局 - `+p,link:u.href,item:m}}export{a as route};