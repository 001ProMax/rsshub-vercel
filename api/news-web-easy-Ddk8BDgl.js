import{__dirname as e,init_esm_shims as t}from"./esm-shims-CtP6w_ML.js";import"./config-DYqAlsU3.js";import"./logger-BlLSmUdl.js";import"./ofetch-CWQqZcqz.js";import"./helpers-RrXnNmv1.js";import{cache_default as n}from"./cache-CvppK6AM.js";import{art as r}from"./render-DE4LRFBD.js";import{parseDate as i}from"./parse-date-DHsdom8D.js";import{got_default as a}from"./got-BwctkUCD.js";import{timezone as o}from"./timezone-CCdTtC9I.js";import s from"node:path";import{load as c}from"cheerio";t();const l={path:`/news_web_easy`,categories:[`traditional-media`],example:`/nhk/news_web_easy`,parameters:{},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`www3.nhk.or.jp/news/easy/`,`www3.nhk.or.jp/`]}],name:`News Web Easy`,maintainers:[`Andiedie`],handler:u,url:`www3.nhk.or.jp/news/easy/`};async function u(t){let{data:l}=await a(`https://www3.nhk.or.jp/news/easy/news-list.json`),u=l[0],d=Object.values(u).reduce((t,n)=>{for(let a of n){let n=o(i(a.news_prearranged_time),9);t.push({title:a.title,description:r(s.join(e,`templates/news_web_easy-ee3cb891.art`),{title:a.title_with_ruby,image:a.news_web_image_uri}),guid:a.news_id,pubDate:n,link:`https://www3.nhk.or.jp/news/easy/${a.news_id}/${a.news_id}.html`})}return t},[]);return d=d.sort((e,t)=>t.pubDate-e.pubDate).slice(0,t.req.query(`limit`)?Number(t.req.query(`limit`)):30),d=await Promise.all(d.map(e=>n.tryGet(e.link,async()=>{let{data:t}=await a(e.link),n=c(t);return e.description+=n(`.article-body`).html(),e}))),{title:`NEWS WEB EASY`,link:`https://www3.nhk.or.jp/news/easy/`,description:`NEWS WEB EASYは、小学生・中学生の皆さんや、日本に住んでいる外国人のみなさんに、わかりやすいことば　でニュースを伝えるウェブサイトです。`,item:d}}export{l as route};