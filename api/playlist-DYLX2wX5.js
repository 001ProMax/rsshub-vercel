import"./esm-shims-CtP6w_ML.js";import{config as e}from"./config-DYqAlsU3.js";import"./logger-BlLSmUdl.js";import{cache_default as t}from"./cache-7MGQxbL-.js";import"./render-DlHIMz-Z.js";import{parseDate as n}from"./parse-date-B2cCVoGk.js";import{ViewType as r}from"./types-DygLf1a3.js";import{config_not_found_default as i}from"./config-not-found-DTjmIGAO.js";import{utils_default$9 as a}from"./utils-86WOHw6l.js";const o={path:`/playlist/:id/:embed?`,categories:[`social-media`,`popular`],view:r.Videos,example:`/youtube/playlist/PLqQ1RwlxOgeLTJ1f3fNMSwhjVgaWKo_9Z`,parameters:{id:`YouTube playlist id`,embed:`Default to embed the video, set to any value to disable embedding`},features:{requireConfig:[{name:`YOUTUBE_KEY`,description:" YouTube API Key, support multiple keys, split them with `,`, [API Key application](https://console.developers.google.com/)"}],requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},name:`Playlist`,maintainers:[`HenryQW`],handler:s};async function s(r){if(!e.youtube||!e.youtube.key)throw new i(`YouTube RSS is disabled due to the lack of <a href="https://docs.rsshub.app/deploy/config#route-specific-configurations">relevant config</a>`);let o=r.req.param(`id`),s=!r.req.param(`embed`),c=(await a.getPlaylist(o,`snippet`,t)).data.items[0].snippet.title,l=(await a.getPlaylistItems(o,`snippet`,t)).data.items.filter(e=>e.snippet.title!==`Private video`&&e.snippet.title!==`Deleted video`);return{title:`${c} by ${l[0].snippet.channelTitle} - YouTube`,link:`https://www.youtube.com/playlist?list=${o}`,description:`YouTube playlist ${c} by ${l[0].snippet.channelTitle}`,item:l.map(e=>{let t=e.snippet,r=t.resourceId.videoId,i=a.getThumbnail(t.thumbnails);return{title:t.title,description:a.renderDescription(s,r,i,a.formatDescription(t.description)),pubDate:n(t.publishedAt),link:`https://www.youtube.com/watch?v=${r}`,author:t.videoOwnerChannelTitle,image:i.url}})}}export{o as route};