import"./esm-shims-CtP6w_ML.js";import"./config-DYqAlsU3.js";import"./logger-BlLSmUdl.js";import"./ofetch-CWQqZcqz.js";import"./helpers-RrXnNmv1.js";import{cache_default as e}from"./cache-CvppK6AM.js";import{parseDate as t}from"./parse-date-DHsdom8D.js";import{got_default as n}from"./got-BwctkUCD.js";import{load as r}from"cheerio";const i=`https://www.gdufs.edu.cn`,a={path:`/news`,categories:[`university`],example:`/gdufs/news`,parameters:{},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`www.gdufs.edu.cn/gwxw/gwxw1.htm`,`www.gdufs.edu.cn/`]}],name:`新闻`,maintainers:[`gz4zzxc`],handler:o,url:`www.gdufs.edu.cn/gwxw/gwxw1.htm`};async function o(){let a=`https://www.gdufs.edu.cn/gwxw/gwxw1.htm`,o=await n(a),s=r(o.body),c=s(`ul.list_luntan li`),l=await Promise.all(c.toArray().map(a=>{let o=s(a),c=o.find(`a`).attr(`href`)||``,l=o.find(`h5`).text().trim(),u=o.find(`h3`).text().trim(),d=o.find(`h6`).text().trim(),f=d+`/`+u,p=c.startsWith(`http`)?c:new URL(c,i).href,m=t(f).toUTCString();return e.tryGet(p,async()=>{try{let e=await n(p),t=r(e.body),i=t(`.v_news_content`).html()?.trim()||``,a=``,o=t(`.nav01 h6 .ll span`);return o.each((e,n)=>{let r=t(n).text().trim();r.includes(`责任编辑：`)?a=r.replace(`责任编辑：`,``).trim():r.includes(`文字：`)&&(a=r.replace(`文字：`,``).trim())}),{title:l,link:p,description:i,pubDate:m,author:a}}catch{return{title:l,link:p,description:`内容获取失败。`,pubDate:m,author:``}}})}));return{title:`广外-大学要闻`,link:a,description:`广东外语外贸大学-大学要闻`,item:l}}export{a as route};