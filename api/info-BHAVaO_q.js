import"./esm-shims-CtP6w_ML.js";import"./config-DYqAlsU3.js";import"./logger-BlLSmUdl.js";import"./ofetch-CWQqZcqz.js";import"./helpers-RrXnNmv1.js";import{parseRelativeDate as e}from"./parse-date-DHsdom8D.js";import{got_default as t}from"./got-BwctkUCD.js";import{load as n}from"cheerio";const r={path:`/info/:type?`,categories:[`anime`],example:`/hpoi/info/all`,parameters:{type:{description:`分类`,options:[{value:`all`,label:`全部`},{value:`hobby`,label:`手办`},{value:`model`,label:`模型`}],default:`all`}},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},name:`情报`,maintainers:[`sanmmm DIYgod`],handler:i};async function i(r){let{type:i=`all`}=r.req.param(),a=`https://www.hpoi.net`,o=`${a}/user/home/ajax`,s=await t.post(o,{form:{page:1,type:`info`,catType:i}}),c=n(s.data),l=c(`.home-info`).map((t,r)=>{let i=n(r),o=i(`.overlay-container`),s=o.find(`a`).first().attr(`href`),c=o.find(`.type-name`).first().text(),l=o.find(`img`).first().attr(`src`),u=i(`.home-info-content`),d=u.find(`.user-name`).contents()[0].data,f=u.find(`.user-content`).text(),p=u.find(`.type-time`).text();return{title:f,pubDate:e(p),link:`${a}/${s}`,category:d,description:[`类型:${c}`,f,`更新内容: ${d}`,`<img src="${l}"/>`].join(`<br/>`)}}).get(),u={all:`全部`,hobby:`手办`,model:`模型`},d=`手办维基 - 情报 - ${u[i]}`;return{title:d,link:`${a}/user/home?type=info&catType=${i}`,description:d,item:l}}export{r as route};