import"./esm-shims-CtP6w_ML.js";import"./config-DYqAlsU3.js";import"./logger-BlLSmUdl.js";import"./ofetch-CWQqZcqz.js";import"./cache-CvppK6AM.js";import"./parse-date-DHsdom8D.js";import{ViewType as e}from"./types-Bi82qguM.js";import{rss_parser_default as t}from"./rss-parser-YsVv5RZS.js";import{fetchArticle as n}from"./utils-CYh0aYG1.js";const r=`https://apnews.com`,i={path:`/rss/:category?`,categories:[`traditional-media`],example:`/apnews/rss/business`,view:e.Articles,parameters:{category:{description:"Category from the first segment of the corresponding site, or `index` for the front page.",default:`index`}},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`apnews.com/:rss`],target:`/rss/:rss`}],name:`News`,maintainers:[`zoenglinghou`,`mjysci`,`TonyRL`],handler:a};async function a(e){let{rss:i=`index`}=e.req.param(),a=`${r}/${i}.rss`,o=await t.parseURL(a),s=e.req.query(`fulltext`)===`true`?await Promise.all(o.items.map(e=>n(e))):o;return{...o,item:s}}export{i as route};