import"./esm-shims-CtP6w_ML.js";import"./config-DYqAlsU3.js";import"./logger-BlLSmUdl.js";import"./ofetch-CWQqZcqz.js";import"./helpers-RrXnNmv1.js";import{parseDate as e}from"./parse-date-DHsdom8D.js";import{got_default as t}from"./got-BwctkUCD.js";import{load as n}from"cheerio";const r={path:`/changelog/:language?`,categories:[`program-update`],example:`/eagle/changelog/en`,parameters:{language:"Language, see list, default to be `cn`"},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},name:`Changelog`,maintainers:[`tigercubden`],handler:i,description:`Language

| Simplified Chinese | Traditional Chinese | English |
| ------------------ | ------------------- | ------- |
| cn                 | tw                  | en      |`};async function i(r){let i=r.req.param(`language`),a=``;(i===void 0||!(i===`tw`||i===`en`))&&(i=`cn`,a=`更新日志`),i===`tw`&&(a=`更新日誌`),i===`en`&&(a=`Release Notes`);let o=await t({method:`get`,url:`https://${i}.eagle.cool/changelog`,headers:{Referer:`https://${i}.eagle.cool/`}}),s=o.data,c=n(s),l=c(`.version`);return{title:`Eagle ${a}`,link:`https://${i}.eagle.cool/changelog`,description:`Eagle ${a}`,item:l&&l.map((t,n)=>{n=c(n);function r(){let e=n.find(`.date`).text(),t=``;if(i===`cn`||i===`tw`){let n=/\d+/g,r;for(;(r=n.exec(e))!==null;)t+=r+`-`;t=t.replaceAll(/-$/g,``)}else i===`en`&&(t=e.replaceAll(`RELEASED`,``));return t}return{title:n.find(`.ver`).text(),description:n.find(`.logs`).html(),link:`https://${i}.eagle.cool/changelog`,pubDate:e(r()),guid:n.find(`.ver`).text()}}).get()}}export{r as route};