import"./esm-shims-CtP6w_ML.js";import"./config-DYqAlsU3.js";import"./logger-BlLSmUdl.js";import"./ofetch-CWQqZcqz.js";import"./helpers-RrXnNmv1.js";import{parseDate as e}from"./parse-date-DHsdom8D.js";import{got_default as t}from"./got-BwctkUCD.js";import{timezone as n}from"./timezone-CCdTtC9I.js";import{load as r}from"cheerio";const i=`http://hrss.sz.gov.cn/`,a={path:`/shenzhen/hrss/szksy/:caty/:page?`,categories:[`government`],example:`/gov/shenzhen/hrss/szksy/bmxx/2`,parameters:{caty:`信息类别`,page:`页码`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`xxgk.sz.gov.cn/cn/xxgk/zfxxgj/:caty`]}],name:`深圳市考试院`,maintainers:[`zlasd`],handler:o,url:`hrss.sz.gov.cn/*`,description:`| 通知公告 | 报名信息 | 成绩信息 | 合格标准 | 合格人员公示 | 证书发放信息 |
| :------: | :------: | :------: | :------: | :----------: | :----------: |
|   tzgg   |   bmxx   |   cjxx   |   hgbz   |    hgrygs    |     zsff     |`};async function o(a){let o=a.req.param(`caty`),s=a.req.param(`page`)??`1`,c=Number.parseInt(s)>1?`_${s}`:``,l=`/szksy/zwgk/${o}/index${c}.html`,u=new URL(l,i),d=await t({method:`get`,url:u});if(d.statusCode!==200)throw Error(d.statusMessage);let f=r(d.data),p=f(`.zx_rm_tit span`).text().trim(),m=f(`.zx_ml_list ul li`).slice(1).map((t,r)=>{let i=f(r).find(`div.list_name a`),a=f(r).find(`span:eq(1)`);return{title:i.text().trim(),link:i.attr(`href`),pubDate:n(e(a.text().trim(),`YYYY/MM/DD`),0)}}).get();return{title:`深圳市考试院 - `+p,link:u.href,item:m}}export{a as route};