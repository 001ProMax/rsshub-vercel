import"./esm-shims-CtP6w_ML.js";import"./config-DYqAlsU3.js";import"./logger-BlLSmUdl.js";import"./ofetch-CWQqZcqz.js";import"./helpers-RrXnNmv1.js";import{cache_default as e}from"./cache-CvppK6AM.js";import{parseDate as t}from"./parse-date-DHsdom8D.js";import{got_default as n}from"./got-BwctkUCD.js";import{invalid_parameter_default as r}from"./invalid-parameter-CvwVNf6G.js";import{ProcessItem$1 as i,rootUrl$12 as a}from"./utils-DrSb9r_x.js";const o={24:{title:`24小时热榜`,key:`homeData.data.hotlist.data`},renqi:{title:`资讯人气榜`,key:`hotListData.topList`},zonghe:{title:`资讯综合榜`,key:`hotListData.hotList`},shoucang:{title:`资讯综合榜`,key:`hotListData.collectList`}},s={path:`/hot-list/:category?`,categories:[`new-media`,`popular`],example:`/36kr/hot-list`,parameters:{category:`分类，默认为24小时热榜`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`36kr.com/hot-list/:category`,`36kr.com/`],target:`/hot-list/:category`}],name:`资讯热榜`,maintainers:[`nczitzk`],handler:c,description:`| 24 小时热榜 | 资讯人气榜 | 资讯综合榜 | 资讯收藏榜 |
| ----------- | ---------- | ---------- | ---------- |
| 24          | renqi      | zonghe     | shoucang   |`};async function c(s){let c=s.req.param(`category`)??`24`;if(!o[c])throw new r(`This category does not exist. Please refer to the documentation for the correct usage.`);let l=c===`24`?a:`${a}/hot-list/catalog`,u=await n({method:`get`,url:l}),d=(e,t)=>t.split(`.`).reduce((e,t)=>e&&e[t],e),f=d(JSON.parse(u.data.match(/window.initialState=({.*})/)[1]),o[c].key),p=f.slice(0,s.req.query(`limit`)?Number.parseInt(s.req.query(`limit`)):10).filter(e=>e.itemType!==0).map(e=>(e=e.templateMaterial??e,{title:e.widgetTitle.replaceAll(/<\/?em>/g,``),author:e.authorName,pubDate:t(e.publishTime),link:`${a}/p/${e.itemId}`,description:e.summary}));return p=await Promise.all(p.map(t=>i(t,e.tryGet))),{title:`36氪 - ${o[c].title}`,link:l,item:p}}export{s as route};