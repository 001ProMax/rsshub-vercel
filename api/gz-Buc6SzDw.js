import"./esm-shims-CtP6w_ML.js";import"./config-DYqAlsU3.js";import"./logger-BlLSmUdl.js";import"./ofetch-CWQqZcqz.js";import"./helpers-RrXnNmv1.js";import{parseDate as e}from"./parse-date-DHsdom8D.js";import{got_default as t}from"./got-BwctkUCD.js";import{load as n}from"cheerio";const r=`https://www.gz.gov.cn`,i={gzyw:`gzyw`,jrtt:`jrtt`,tzgg:`tzgg`,zcjd:`zcjd/zcjd`},a={path:`/gz/:channel/:category`,name:`Unknown`,maintainers:[],handler:o};async function o(a){let o=a.req.param(`channel`),s=a.req.param(`category`),c=`${r}/${o}/${i[s]}/`,l=await t(c),u=n(l.data),d=u(`.news_list li`).toArray().map(t=>{t=u(t);let n=t.find(`a`).attr(`href`);return{title:t.find(`a`).attr(`title`),link:n,pubDate:e(t.find(`span`).text())}});return{title:`广州市人民政府 - ${u(`.main_title`).text()}`,link:c,item:d}}export{a as route};