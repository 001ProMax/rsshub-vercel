import"./esm-shims-CtP6w_ML.js";import"./config-DYqAlsU3.js";import"./logger-BlLSmUdl.js";import"./ofetch-CWQqZcqz.js";import"./helpers-RrXnNmv1.js";import{got_default as e}from"./got-BwctkUCD.js";import"./config-not-found-QwO11ree.js";import{rss_parser_default as t}from"./rss-parser-YsVv5RZS.js";import{getConfig as n}from"./utils-BwNw2BO-.js";const r={path:`/:configId/posts`,categories:[`bbs`],example:`/discourse/0/posts`,parameters:{configId:`Environment variable configuration id, see above`},features:{requireConfig:[{name:`DISCOURSE_CONFIG_*`,description:``}],requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},name:`Latest posts`,maintainers:[`dzx-dzx`],handler:i};async function i(r){let{link:i,key:a}=n(r),o=await t.parseString((await e(`${i}/posts.rss`,{headers:{"User-Api-Key":a}})).data);return o.items=o.items.map(e=>({description:e.content,author:e.creator,...e})),{item:o.items,...o}}export{r as route};