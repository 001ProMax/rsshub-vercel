import"./esm-shims-CtP6w_ML.js";import"./config-DYqAlsU3.js";import"./logger-BlLSmUdl.js";import{ofetch_default as e}from"./ofetch-CWQqZcqz.js";import{cache_default as t}from"./cache-CvppK6AM.js";import{parseDate as n}from"./parse-date-DHsdom8D.js";const r=1,i=20,a={path:`/cloud/developer/column/:categoryId?`,categories:[`programming`],example:`/tencent/cloud/developer/column/1`,parameters:{categoryId:`categoryId from page url`},radar:[{source:[`cloud.tencent.com/developer/column`]}],name:`腾讯云开发者社区专栏`,maintainers:[`lyling`],handler:async t=>{let a=t.req.param(`categoryId`)??0,s=`https://cloud.tencent.com/developer/api/home/article-list`,c=await e(s,{method:`POST`,headers:{"Content-Type":`application/json`},body:{classifyId:a,page:r,pagesize:i,type:``}}),l=c.list.map(e=>({title:e.title,link:`https://cloud.tencent.com/developer/article/${e.articleId}`,description:e.summary,pubDate:n(e.createTime*1e3),author:e.author.nickname,category:e.tags.map(e=>e.tagName)})),u=await o(a),d=u?u.name:``,f=`${d} - 腾讯云开发者社区`;return{title:d,description:f,item:l}}};async function o(n){let r=`https://cloud.tencent.com/developer/api/column/get-classify-list-by-scene`,i=await t.tryGet(r,async()=>{let t=await e(r,{method:`POST`,headers:{"Content-Type":`application/json`},body:{scene:0}});return t});return i.list.find(e=>e.id===Number(n))}export{a as route};