import"./esm-shims-CtP6w_ML.js";import"./config-DYqAlsU3.js";import"./logger-BlLSmUdl.js";import"./ofetch-CWQqZcqz.js";import"./helpers-RrXnNmv1.js";import{cache_default as e}from"./cache-CvppK6AM.js";import{got_default as t}from"./got-BwctkUCD.js";import{load as n}from"cheerio";import r from"p-map";const i=`http://www.cpta.com.cn`,a={notice:{title:`通知公告`,baseUrl:`http://www.cpta.com.cn/notice.html`,description:`中国人事考试网 考试通知公告汇总`},performance:{title:`成绩公布`,baseUrl:`http://www.cpta.com.cn/performance.html`,description:`中国人事考试网 考试成绩公布汇总`}},o=async o=>{let s=o.req.param(`category`),c=a[s].baseUrl,{data:l}=await t(c),u=n(l),d=`ul[class*="list_14"] > li:has(*)`,f=u(d),p=f.toArray().map(e=>{let t=u(e).find(`a`).attr(`title`),n=u(e).find(`i`).text().replaceAll(/[[\]]/g,``),r=u(e).find(`a`).attr(`href`),a=new URL(r,i).href;return{title:t,date:n,link:a}}).sort((e,t)=>new Date(t.date).getTime()-new Date(e.date).getTime()).slice(0,10),m=r=>e.tryGet(r.link,async()=>{let e=`#p_content`,{data:i}=await t(r.link),a=n(i),o=a(e).html()||``;return{title:r.title,pubDate:r.date,link:r.link,description:o,category:[`study`],guid:r.link,id:r.link,image:`https://www.gov.cn/images/gtrs_logo_lt.png`,content:{html:o,text:o},updated:r.date,language:`zh-CN`}}),h=await r(p,m,{concurrency:1});return{title:`中国人事考试网-${a[s].title}`,description:a[s].description,link:c,image:`https://www.gov.cn/images/gtrs_logo_lt.png`,item:h,allowEmpty:!0,language:`zh-CN`,feedLink:`https://rsshub.app/cpta/${s}`,id:`https://rsshub.app/cpta/${s}`}},s={path:`/:category`,name:`中国人事考试网发布`,maintainers:[`PrinOrange`],parameters:{category:`栏目参数，可见下表描述。`},description:`
| Category    | Title     | Description                         |
|-------------|-----------|-------------------------------------|
| notice      | 通知公告  | 中国人事考试网 考试通知公告汇总    |
| performance | 成绩公布  | 中国人事考试网 考试成绩公布汇总    |
`,handler:o,categories:[`study`],features:{requireConfig:!1,requirePuppeteer:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1,supportRadar:!0,antiCrawler:!0},radar:[{title:`中国人事考试网通知公告`,source:[`www.cpta.com.cn/notice.html`,`www.cpta.com.cn`],target:`/notice`},{title:`中国人事考试网成绩发布`,source:[`www.cpta.com.cn/performance.html`,`www.cpta.com.cn`],target:`/performance`}],example:`/cpta/notice`};export{s as route};