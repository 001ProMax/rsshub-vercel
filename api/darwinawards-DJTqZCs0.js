import"./esm-shims-CtP6w_ML.js";import"./config-DYqAlsU3.js";import"./logger-BlLSmUdl.js";import"./ofetch-CWQqZcqz.js";import"./helpers-RrXnNmv1.js";import{cache_default as e}from"./cache-CvppK6AM.js";import{got_default as t}from"./got-BwctkUCD.js";import{load as n}from"cheerio";const r={name:`Award Winners`,example:`/darwinawards`,path:`/`,radar:[{source:[`darwinawards.com/darwin`,`darwinawards.com/`]}],maintainers:[`zoenglinghou`,`nczitzk`],handler:i,url:`darwinawards.com/darwin`};async function i(){let r=`https://darwinawards.com`,i=`${r}/darwin/`,a=await t({method:`get`,url:i}),o=n(a.data);o(`.cameo`).remove(),o(`.topvote_title_desc, .topvote_title_minimal, .topvote_minimal`).each(function(){o(this).find(`a`).first().remove()});let s=o(`#article_index a`).toArray().map(e=>(e=o(e),{title:e.text(),link:e.attr(`href`)}));return s=await Promise.all(s.map(r=>e.tryGet(r.link,async()=>{let e=await t({method:`get`,url:r.link}),i=n(e.data);return i(`h2, nav, footer, table, form`).remove(),r.description=i(`article`).html(),r}))),{title:o(`title`).text(),link:i,item:s}}export{r as route};