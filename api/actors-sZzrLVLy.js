import"./esm-shims-CtP6w_ML.js";import"./config-DYqAlsU3.js";import"./logger-BlLSmUdl.js";import"./ofetch-CDAeBYLA.js";import"./helpers-RrXnNmv1.js";import{got_default as e}from"./got-Cw4D6IS5.js";import{ViewType as t}from"./types-DygLf1a3.js";import{load as n}from"cheerio";const r=/(?<year>\d{4})-(?<month>\d{2})-(?<day>\d{2})/,i=[/開場 (?<openHr>\d{2}):(?<openMin>\d{2}) 開演 (?<startHr>\d{2}):(?<startMin>\d{2}) 終演 (?<closeHr>\d{2}):(?<closeMin>\d{2})/,/開場 - 開演 (?<openHr>\d{2}):(?<openMin>\d{2}) 終演 (?<closeHr>\d{2}):(?<closeMin>\d{2})/,/開場 (?<openHr>\d{2}):(?<openMin>\d{2}) 開演 - 終演 (?<closeHr>\d{2}):(?<closeMin>\d{2})/],a=5,o=10,s={path:`/actors/:name/:id`,categories:[`anime`,`popular`],view:t.Videos,example:`/eventernote/actors/三森すずこ/2634`,parameters:{name:`声优姓名`,id:`声优 ID`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`www.eventernote.com/actors/:name/:id/events`]}],name:`声优活动及演唱会`,maintainers:[`KTachibanaM`],handler:c};async function c(t){let{name:s,id:c}=t.req.param(),l=`${s}のイベント・ライブ情報一覧`,u=`https://www.eventernote.com/actors/${s}/${c}/events`,d=[];for(let t=1;t<=a;t++){let a=u+`?limit=${o}&page=${t}`,s=await e({method:`get`,url:a}),c=s.data,l=n(c),f=l(`li.clearfix`);if(f.length===0)break;for(let e of f){let t=l(`div.event > h4 > a`,e).text(),n=l(`div.event > div.place > a`,e).text(),a=l(`div.date > p`,e).text().match(r),o=a.groups.year,s=a.groups.month,c=a.groups.day,u=l(`div.event > div.place > span.s`,e).text(),f={openHr:null,openMin:null,startHr:null,startMin:null,closeHr:null,closeMin:null};for(let e of i){let t=u.match(e);if(t===null)continue;f={...f,...t.groups}}let p=l(`div.event > h4 > a`,e).attr(`href`),m=`イベント ${t}
開催場所 ${n}
開場 ${o}-${s}-${c} ${f.openHr}:${f.openMin}
開演 ${o}-${s}-${c} ${f.startHr}:${f.startMin}
終演 ${o}-${s}-${c} ${f.closeHr}:${f.closeHr}
`;d.push({title:t,description:m,link:p})}t+=1}return{title:l,link:u,description:l,language:`ja`,allowEmpty:!0,item:d}}export{s as route};