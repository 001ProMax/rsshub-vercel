import"./esm-shims-CtP6w_ML.js";import{config as e}from"./config-DYqAlsU3.js";import"./logger-BlLSmUdl.js";import"./ofetch-CWQqZcqz.js";import"./helpers-RrXnNmv1.js";import{parseDate as t}from"./parse-date-DHsdom8D.js";import{got_default as n}from"./got-BwctkUCD.js";const r={path:`/gist/:gistId`,categories:[`programming`],example:`/github/gist/d2c152bb7179d07015f336b1a0582679`,parameters:{gistId:`Gist ID`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`gist.github.com/:owner/:gistId/revisions`,`gist.github.com/:owner/:gistId/stargazers`,`gist.github.com/:owner/:gistId/forks`,`gist.github.com/:owner/:gistId`]}],name:`Gist Commits`,maintainers:[`TonyRL`],handler:i};async function i(r){let i=r.req.param(`gistId`),a={Accept:`application/vnd.github.v3+json`};e.github&&e.github.access_token&&(a.Authorization=`Bearer ${e.github.access_token}`);let o=`https://gist.github.com`,s=`https://api.github.com/gists/${i}`,{data:c}=await n(s,{headers:a}),l=c.history.map((e,n)=>({title:`${e.user.login} ${n===c.history.length-1?`created`:`revised`} this gist`,description:e.change_status.total?`${e.change_status.additions} additions and ${e.change_status.deletions} deletions`:null,link:`${o}/${i}/${e.version}`,pubDate:t(e.committed_at)}));return{allowEmpty:!0,title:`${c.owner.login} / ${Object.values(c.files)[0].filename}`,description:c.description,image:c.owner.avatar_url,link:`${c.html_url}/revisions`,item:l}}export{r as route};