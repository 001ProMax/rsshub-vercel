import{__dirname as e,init_esm_shims as t}from"./esm-shims-CtP6w_ML.js";import"./config-DYqAlsU3.js";import"./logger-BlLSmUdl.js";import"./ofetch-CWQqZcqz.js";import"./helpers-RrXnNmv1.js";import{art as n}from"./render-DE4LRFBD.js";import{got_default as r}from"./got-BwctkUCD.js";import i from"node:path";import{load as a}from"cheerio";t();const o=`https://www.yxdzqb.com`,s={new:`index_discount.html`,hot:`index_popular.html`,hot_chinese:`index_popular_cn.html`,low:`index_low.html`,low_chinese:`index_low_cn.html`},c={path:`/:type`,categories:[`game`],example:`/yxdzqb/popular_cn`,parameters:{type:`折扣类型`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`yxdzqb.com/`]}],name:`游戏折扣`,maintainers:[`LogicJake`,`nczitzk`],handler:l,url:`yxdzqb.com/`,description:`| Steam 最新折扣 | Steam 热门游戏折扣 | Steam 热门中文游戏折扣 | Steam 历史低价 | Steam 中文游戏历史低价 |
| -------------- | ------------------ | ---------------------- | -------------- | ---------------------- |
| discount       | popular            | popular_cn            | low            | low_cn                |`};async function l(t){let c=t.req.param(`type`),l=`${o}/${Object.hasOwn(s,c)?s[c]:`index_${c}.html`}`,u=await r.get(l),d=a(u.data),f=d(`.btn-primary b`).text()||d(`.btn-danger b`).text()||d(`.btn-info b`).text(),p=d(`tr.bg-none`),m=p.map((t,r)=>{r=d(r);let a=r.find(`div table:nth-child(1) tr td:nth-child(1)`).text(),o=n(i.join(e,`templates/description-994b84e5.art`),{src:r.find(`table.cell_tabs > tbody > tr > td:nth-child(1) > img`).attr(`src`),description:r.find(`div.collapse`).html()}),s=r.find(`div.collapse table.cell_tabs > tbody > tr > td:nth-child(1) > a`).attr(`href`),c=s+r.find(`div.cell_price span:nth-child(2)`).text(),l={title:a,description:o,link:s,guid:c};return l}).get();return{title:`${f}-游戏打折情报`,link:l,item:m}}export{c as route};