import"./esm-shims-CtP6w_ML.js";import"./config-DYqAlsU3.js";import"./logger-BlLSmUdl.js";import"./ofetch-CWQqZcqz.js";import"./helpers-RrXnNmv1.js";import{parseDate as e}from"./parse-date-DHsdom8D.js";import{got_default as t}from"./got-BwctkUCD.js";import{load as n}from"cheerio";const r={path:`/posts/:topic/:id`,categories:[`game`],example:`/itch/posts/9539/introduce-yourself`,parameters:{topic:`Topic id, can be found in URL`,id:`Topic name, can be found in URL`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`itch.io/t/:topic/:id`]}],name:`Posts`,maintainers:[`nczitzk`],handler:i};async function i(r){let i=r.req.param(`topic`),a=r.req.param(`id`),o=`https://itch.io`,s=`${o}/t/${i}/${a}?before=999999999`,c=await t({method:`get`,url:s}),l=n(c.data),u=l(`.post_grid`).toArray().map(t=>{t=l(t);let n=t.find(`.post_author`).text(),r=t.find(`.post_body`);return{author:n,description:r.html(),title:`${n}: ${r.text()}`,link:t.find(`.post_date a`).attr(`href`),pubDate:e(t.find(`.post_date`).attr(`title`))}});return{title:l(`title`).text(),link:s,item:u}}export{r as route};