import{__dirname as e,init_esm_shims as t}from"./esm-shims-CtP6w_ML.js";import"./config-DYqAlsU3.js";import"./logger-BlLSmUdl.js";import"./ofetch-CWQqZcqz.js";import"./helpers-RrXnNmv1.js";import{cache_default as n}from"./cache-CvppK6AM.js";import{art as r}from"./render-DE4LRFBD.js";import{parseDate as i}from"./parse-date-DHsdom8D.js";import{got_default as a}from"./got-BwctkUCD.js";import{invalid_parameter_default as o}from"./invalid-parameter-CvwVNf6G.js";import s from"node:path";import{load as c}from"cheerio";t();const l={path:`/:name`,categories:[`anime`],example:`/comicskingdom/pardon-my-planet`,parameters:{name:`URL path of the strip on comicskingdom.com`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`comicskingdom.com/:name/*`,`comicskingdom.com/:name`]}],name:`Archive`,maintainers:[`stjohnjohnson`],handler:u};async function u(t){let l=`https://comicskingdom.com`,u=t.req.param(`name`),d=`${l}/${u}/archive`,{data:f}=await a(d),p=c(f),m=p(`title`).text().replace(`Comics Kingdom - `,``).trim(),h=p(`.feature-title h2`).text(),g=p(`div.tile`).toArray().map(e=>p(e).find(`a`).first().attr(`href`));if(g.length===0)throw new o(`Comic Not Found - ${u}`);let _=await Promise.all(g.map(t=>n.tryGet(t,async()=>{let n=await a(t),o=c(n.data),l=o(`meta[property="og:description"]`).attr(`content`),u=o(`meta[property="og:image"]`).attr(`content`),d=r(s.join(e,`templates/desc-158d364d.art`),{image:u}),f=i(t.substring(t.lastIndexOf(`/`)+1),`YYYY-MM-DD`);return{title:l,author:h,category:`comic`,description:d,pubDate:f,link:t}})));return{title:m,link:d,image:p(`.feature-logo`).attr(`src`),item:_,language:`en-US`}}export{l as route};