import"./esm-shims-CtP6w_ML.js";import"./config-DYqAlsU3.js";import"./logger-BlLSmUdl.js";import{ofetch_default as e}from"./ofetch-CWQqZcqz.js";import{parseDate as t}from"./parse-date-DHsdom8D.js";import*as n from"cheerio";const r=async()=>{let r=`http://rss.weather.gov.hk/rss/CurrentWeather.xml`,i=`https://www.weather.gov.hk/en/wxinfo/currwx/current.htm`,a=await e(r),o=n.load(a,{xmlMode:!0}),s=o(`item`).first().find(`description`),c=n.load(s.text()),l=c(`table tr`).toArray().map(e=>{let n=o(e),r=n.find(`td`).first().text(),a=n.find(`td`).last().text();return{title:r,description:a,pubDate:t(o(`pubDate`).text()),link:i,guid:`${o(`guid`).text()}#${r}`}});return{title:`Current Weather Report`,description:`provided by the Hong Kong Observatory: ${o(`pubDate`).text()}`,link:i,item:l}},i={path:`/weather`,radar:[{source:[`www.weather.gov.hk/en/wxinfo/currwx/current.htm`]}],name:`Current Weather Report`,example:`/hko/weather`,maintainers:[`calpa`],categories:[`forecast`],handler:r,url:`www.weather.gov.hk/en/wxinfo/currwx/current.htm`};export{i as route};