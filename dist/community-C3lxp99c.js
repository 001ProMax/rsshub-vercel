import"./esm-shims-CtP6w_ML.js";import"./config-DYqAlsU3.js";import"./logger-BlLSmUdl.js";import{ofetch_default as e}from"./ofetch-CWQqZcqz.js";import{parseDate as t}from"./parse-date-DHsdom8D.js";const n={path:`/community/:communityUrl`,name:`Community Events`,url:`app.questn.com`,maintainers:[`cxheng315`],example:`/questn/community/gmnetwork`,parameters:{community_url:`Community URL`},categories:[`other`],features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`app.questn.com/:communityUrl`],target:`/community/:communityUrl`}],handler:r};async function r(n){let r=`https://api.questn.com/consumer/explore/entity_list/`,i={count:n.req.query(`limit`)||`20`,page:`1`,community_url:n.req.param(`communityUrl`)||`questn`},a=await e(`${r}?${new URLSearchParams(i)}`,{method:`GET`,headers:{"Content-Type":`application/json`}}),o=await a.result.data,s=o.map(e=>({title:e.title,link:`https://app.questn.com/quest/${e.id}`,author:e.community_info?e.community_info.name:``,guid:e.id,pubDate:t(e.start_time*1e3),itunes_duration:e.end_time>0?e.end_time-e.start_time:0}));return{title:`QuestN Community - ${o[0].community_info?o[0].community_info.name:``} Events`,link:`https://app.questn.com/${n.req.param(`community_url`)}`,description:o[0].community_info?o[0].community_info.introduction:``,image:o[0].community_info?o[0].community_info.logo:``,logo:o[0].community_info?o[0].community_info.logo:``,item:s&&s.length>0?s:[{title:`No events found`,link:`https://app.questn.com/${n.req.param(`community_url`)}`,description:`No events found`}]}}export{n as route};