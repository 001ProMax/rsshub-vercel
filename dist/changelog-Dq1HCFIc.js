import"./esm-shims-CtP6w_ML.js";import"./config-DYqAlsU3.js";import"./logger-BlLSmUdl.js";import{ofetch_default as e}from"./ofetch-CWQqZcqz.js";import{parseDate as t}from"./parse-date-DHsdom8D.js";import{ViewType as n}from"./types-Bi82qguM.js";import{load as r}from"cheerio";const i=async n=>{let i=Number.parseInt(n.req.query(`limit`)??`100`,10),a=`https://www.cursor.com`,o=new URL(`changelog`,a).href,s=await e(o,{headers:{cookie:`NEXT_LOCALE=en`}}),c=r(s),l=c(`html`).attr(`lang`)??`en`,u=c(`article.relative`).slice(0,i).toArray().map(e=>{let n=c(e),r=n.find(`div.items-center p`).first().text(),i=`[${r}] ${n.find(String.raw`h2 a.hover\:underline`).contents().first().text()}`,o=n.find(`div.inline-flex p`).first().text().trim(),s=n.find(String.raw`h2 a.hover\:underline`).attr(`href`),u=`cursor-changelog-${r}`,d=o,f=n.find(`h2`).first();f.length&&(f.prevAll().remove(),f.remove());let p=n.html()||``,m={title:i,description:p,pubDate:o?t(o):void 0,link:s?new URL(s,a).href:void 0,guid:u,id:u,content:{html:p,text:p},updated:d?t(d):void 0,language:l};return m}).filter(e=>!0);return{title:c(`title`).text(),description:c(`meta[property="og:description"]`).attr(`content`),link:o,item:u,allowEmpty:!0,image:c(`meta[property="og:image"]`).attr(`content`),language:l}},a={path:`/changelog`,name:`Changelog`,url:`www.cursor.com`,maintainers:[`p3psi-boo`,`nczitzk`],handler:i,example:`/cursor/changelog`,parameters:void 0,description:void 0,categories:[`program-update`],features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportRadar:!0,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`www.cursor.com/changelog`],target:`/changelog`}],view:n.Articles};export{i as handler,a as route};