import"./esm-shims-CtP6w_ML.js";import"./config-DYqAlsU3.js";import"./logger-BlLSmUdl.js";import"./ofetch-CWQqZcqz.js";import"./helpers-RrXnNmv1.js";import{got_default as e}from"./got-BwctkUCD.js";import{load as t}from"cheerio";const n=`https://www.hpoi.net`,r={want:`想买`,preorder:`预定`,buy:`已入`,care:`关注`,resell:`有过`},i={path:`/user/:user_id/:caty`,categories:[`anime`],example:`/hpoi/user/116297/buy`,parameters:{user_id:{description:`用户ID`},caty:{description:`类别`,options:[{value:`want`,label:`想买`},{value:`preorder`,label:`预定`},{value:`buy`,label:`已入`},{value:`care`,label:`关注`},{value:`resell`,label:`有过`}],default:`buy`}},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},name:`用户动态`,maintainers:[`DIYgod`,`luyuhuang`],handler:a};async function a(i){let{user_id:a,caty:o}=i.req.param(),s=`${n}/user/${a}/hobby?order=actionDate&view=2&favState=${o}`,c=await e({method:`get`,url:s}),l=t(c.data),u=l(`.collect-hobby-list-small`).map((e,t)=>(t=l(t),{title:r[o]+`: `+t.find(`.name`).text(),link:`https://www.hpoi.net/`+t.find(`.name`).attr(`href`),description:`<img src="${t.find(`img`).attr(`src`).replace(`/s/`,`/n/`)}"><br>${t.find(`.pay`).text()}<br>${t.find(`.score`).text()}`})).get(),d=l(`.hpoi-collect-head .info p`).eq(0).text()+`的手办 - `+r[o];return{title:d,link:s,item:u,allowEmpty:!0}}export{i as route};