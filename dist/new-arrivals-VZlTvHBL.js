import{__dirname as e,init_esm_shims as t}from"./esm-shims-CtP6w_ML.js";import"./config-DYqAlsU3.js";import"./logger-BlLSmUdl.js";import"./ofetch-CWQqZcqz.js";import"./helpers-RrXnNmv1.js";import{art as n}from"./render-DE4LRFBD.js";import{got_default as r}from"./got-BwctkUCD.js";import i from"node:path";import{load as a}from"cheerio";t();const o=`https://www.zagg.com/en_us`,s={path:`/new-arrivals/:query?`,categories:[`shopping`],example:`/zagg/new-arrivals/brand=164&cat=3038,3041`,parameters:{query:`query, search page querystring`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},name:`New Arrivals`,maintainers:[`EthanWng97`],handler:c,description:"For instance, in `https://www.zagg.com/en_us/new-arrivals?brand=164&cat=3038%2C3041`, the query is `brand=164&cat=3038%2C3041`"};async function c(t){let s=t.req.param(`query`),c=new URLSearchParams(s),l=c.get(`brand`),u=c.get(`cat`),d=`${o}/new-arrivals`,f=await r({headers:{"X-Requested-With":`XMLHttpRequest`},method:`post`,url:d,searchParams:{cat:u,brand:l}}),p=f.data.products,m=a(p),h=m(`.item.product.product-item`).map(function(){let t={},r=m(this).find(`.product.details-box`).html();t.link=m(this).find(`.product-item-link`).eq(0).attr(`href`),t.title=m(this).find(`.product-item-link`).text();let a=/(https.*?)\?/,o=m(this).find(`img`).eq(0).attr(`data-src`).match(a)[1],s=n(i.join(e,`templates/new-arrivals-5b741265.art`),{imgUrl:o});return t.description=r+s,t}).get();return{title:`Zagg - New Arrivals`,link:f.url,description:`Zagg - New Arrivals`,item:h.map(e=>({title:e.title,description:e.description,link:e.link}))}}export{s as route};