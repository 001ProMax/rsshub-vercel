import{__dirname as e,init_esm_shims as t}from"./esm-shims-CtP6w_ML.js";import"./config-DYqAlsU3.js";import"./logger-BlLSmUdl.js";import"./ofetch-CWQqZcqz.js";import"./helpers-RrXnNmv1.js";import{art as n}from"./render-DE4LRFBD.js";import{got_default as r}from"./got-BwctkUCD.js";import i from"node:path";import{load as a}from"cheerio";t();const o={path:`/explore`,categories:[`social-media`],example:`/douban/explore`,parameters:{},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},name:`浏览发现`,maintainers:[`clarkzsd`],handler:s};async function s(){let t=await r({method:`get`,url:`https://www.douban.com/explore`}),o=t.data,s=a(o),c=s(`div.item`);return{title:`豆瓣-浏览发现`,link:`https://www.douban.com/explore`,item:c&&c.map((t,r)=>{r=s(r);let a=r.find(`.title a`).first().text()??`#`+r.find(`.icon-topic`).text(),o=r.find(`.content p`).text(),c=r.find(`a.cover`).attr(`style`)?r.find(`a.cover`).attr(`style`).match(/\('(.*?)'\)/)[1]:``,l=r.find(`.usr-pic a`).last().text(),u=r.find(`.title a`).attr(`href`)??r.find(`.icon-topic a`).attr(`href`);return{title:a,author:l,description:n(i.join(e,`templates/explore-03d46c5e.art`),{author:l,desc:o,itemPic:c}),link:u}}).get()}}export{o as route};