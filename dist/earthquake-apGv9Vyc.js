import"./esm-shims-CtP6w_ML.js";import"./config-DYqAlsU3.js";import"./logger-BlLSmUdl.js";import{ofetch_default as e}from"./ofetch-CWQqZcqz.js";import{parseDate as t}from"./parse-date-DHsdom8D.js";import{timezone as n}from"./timezone-CCdTtC9I.js";import{load as r}from"cheerio";const i={path:`/earthquake`,name:`全球地震資訊網`,maintainers:[`after9`],handler:a,example:`/hko/earthquake`,categories:[`forecast`],description:`来自香港天文台的全球5级以上地震记录`};async function a(){let i=`来自香港天文台的全球5级以上地震记录`,a=`https://www.hko.gov.hk/tc/gts/equake/quake-info.htm`,o=`提供經天文台分析的全球5.0級或以上及本地有感的地震資訊。`,s=await e(`https://www.hko.gov.hk/gts/QEM/eq_app-30d_uc.xml`,{headers:{accept:`application/xml`}}),c=r(s),l=c(`Earthquake > EventGroup > Event`).toArray().map(e=>{e=c(e);let r=e.find(`Mag`).text(),i=e.find(`City`).text(),a=e.find(`citystring`).text(),o=e.find(`HKTDate`).text(),s=e.find(`HKTTime`).text(),l=`經緯:[`+e.find(`Lat`).text()+`,`+e.find(`Lon`).text()+`]`;return{title:`[震級:${r}] [地點:${i}]`,description:`${a}, ${l}`,pubDate:n(t(o+s,`YYYYMMDDHHmm`),8)}});return{title:i,link:a,description:o,item:l}}export{i as route};