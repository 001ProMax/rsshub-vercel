import"./esm-shims-CtP6w_ML.js";import"./config-DYqAlsU3.js";import"./logger-BlLSmUdl.js";import"./ofetch-CWQqZcqz.js";import"./helpers-RrXnNmv1.js";import{cache_default as e}from"./cache-CvppK6AM.js";import{parseDate as t}from"./parse-date-DHsdom8D.js";import{got_default as n}from"./got-BwctkUCD.js";import{timezone as r}from"./timezone-CCdTtC9I.js";import{load as i}from"cheerio";const a=`www.moj.gov.cn`,o={path:`/moj/lfyjzj`,categories:[`government`],example:`/gov/moj/lfyjzj`,parameters:{},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`www.moj.gov.cn/lfyjzj/lflfyjzj/*`,`www.moj.gov.cn/pub/sfbgw/lfyjzj/lflfyjzj/*`]}],name:`立法意见征集`,maintainers:[`la3rence`],handler:s,url:`www.moj.gov.cn/lfyjzj/lflfyjzj/*`};async function s(){let o=`https://${a}`,s=`${o}/lfyjzj/lflfyjzj/index.html`,{data:c}=await n(s),l=i(c),u=l(`title:first`).text(),d=l(`div.list_title`).text(),f=`${u} - ${d}`,p=new URL(`/images/sfbgw_favicon.ico`,o).href,m=l(`ul.newsMsgList_zzy li`).toArray().map(e=>{let n=l(e).find(`a`),i=l(e).find(`div.rightData`).text(),a=n.prop(`href`),o=a.startsWith(`http`)?a:new URL(a,s).href;return{title:n.text(),link:o,pubDate:r(t(i),8)}}),h=await Promise.all(m.map(a=>e.tryGet(`gov:mof:${a.link}`,async()=>{let{data:e}=await n(a.link),o=i(e);a.description=o(`div.TRS_Editor`).html(),a.author=o(`div.sT_left span:first`).text().split(`：`)[1];let s=o(`div.sT_left span:last`).text().split(`：`)[1];return a.pubDate=s?r(t(s),8):a.pubDate,a})));return{item:h,title:d,link:s,description:f,author:u,icon:p}}export{o as route};