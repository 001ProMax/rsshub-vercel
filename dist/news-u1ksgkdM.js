import"./esm-shims-CtP6w_ML.js";import"./config-DYqAlsU3.js";import"./logger-BlLSmUdl.js";import{ofetch_default as e}from"./ofetch-CWQqZcqz.js";import{cache_default as t}from"./cache-CvppK6AM.js";import{load as n}from"cheerio";import r from"p-map";const i={path:`/news`,categories:[`programming`],example:`/anthropic/news`,parameters:{},radar:[{source:[`www.anthropic.com/news`,`www.anthropic.com`]}],name:`News`,maintainers:[`etShaw-zh`],handler:a,url:`www.anthropic.com/news`};async function a(){let i=`https://www.anthropic.com/news`,a=await e(i),o=n(a),s=o(`.contentFadeUp a`).toArray().map(e=>{e=o(e);let t=e.find(`h3[class^="PostCard_post-heading__"]`).text().trim(),n=e.attr(`href`),r=e.find(`div[class^="PostList_post-date__"]`).text().trim(),i=n.startsWith(`http`)?n:`https://www.anthropic.com${n}`;return{title:t,link:i,pubDate:r}}),c=await r(s,r=>t.tryGet(r.link,async()=>{let t=await e(r.link),i=n(t);i(`div[class^="PostDetail_b-social-share"]`).remove();let a=i(`div[class*="PostDetail_post-detail__"]`);return a.find(`img`).each((e,t)=>{let n=i(t);n.removeAttr(`style srcset`);let r=n.attr(`src`),a=new URLSearchParams(r),o=a.get(`/_next/image?url`);o&&n.attr(`src`,o)}),r.description=a.html(),r}),{concurrency:5});return{title:`Anthropic News`,link:i,description:`Latest news from Anthropic`,item:c}}export{i as route};