import"./esm-shims-CtP6w_ML.js";import"./config-DYqAlsU3.js";import"./logger-BlLSmUdl.js";import"./ofetch-CWQqZcqz.js";import"./helpers-RrXnNmv1.js";import{parseDate as e}from"./parse-date-DHsdom8D.js";import{got_default as t}from"./got-BwctkUCD.js";import{ViewType as n}from"./types-Bi82qguM.js";import{load as r}from"cheerio";const i={path:`/:category`,categories:[`reading`,`popular`],view:n.Articles,example:`/bookfere/skills`,parameters:{category:{description:`分类名`,options:[{value:`weekly`,label:`每周一书`},{value:`skills`,label:`使用技巧`},{value:`books`,label:`图书推荐`},{value:`news`,label:`新闻速递`},{value:`essay`,label:`精选短文`}]}},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},name:`分类`,maintainers:[`OdinZhang`],handler:a,description:`| 每周一书 | 使用技巧 | 图书推荐 | 新闻速递 | 精选短文 |
| -------- | -------- | -------- | -------- | -------- |
| weekly   | skills   | books    | news     | essay    |`};async function a(n){let i=`https://bookfere.com/category/`+n.req.param(`category`),a=await t({method:`get`,url:i}),o=a.data,s=r(o),c=s(`main div div section`);return{title:s(`head title`).text(),link:i,item:c&&c.map((t,n)=>{n=s(n);let r=n.find(`time`).attr(`datetime`),i=e(r);return{title:n.find(`h2 a`).text(),link:n.find(`h2 a`).attr(`href`),pubDate:i,description:n.find(`p`).text()}}).get()}}export{i as route};