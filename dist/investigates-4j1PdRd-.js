import"./esm-shims-CtP6w_ML.js";import"./config-DYqAlsU3.js";import"./logger-BlLSmUdl.js";import"./ofetch-CWQqZcqz.js";import"./helpers-RrXnNmv1.js";import{cache_default as e}from"./cache-CvppK6AM.js";import{parseDate as t}from"./parse-date-DHsdom8D.js";import{got_default as n}from"./got-BwctkUCD.js";import{ViewType as r}from"./types-Bi82qguM.js";import{load as i}from"cheerio";const a={path:`/investigates`,categories:[`traditional-media`,`popular`],view:r.Articles,example:`/reuters/investigates`,parameters:{},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},name:`Inverstigates`,maintainers:[`LyleLee`],handler:o};async function o(){let r=`https://www.reuters.com`,a=`${r}/investigates/`,o=await n(a),s=i(o.data),c=s(`article.section-article-container.row`).map((e,t)=>({title:s(t).find(`h2.subtitle`).text(),link:s(t).find(`a.row.d-flex`).prop(`href`)})).get(),l=await Promise.all(c.map(r=>e.tryGet(r.link,async()=>{let e=await n(r.link),a=i(e.data);return r.title=a(`title`).text(),r.description=a(`article.special-report`).html(),r.pubDate=t(a(`time[itemprop="datePublished"]`).attr(`datetime`)),r.author=a(`meta[property="og:article:publisher"]`).attr(`content`),r})));return{title:s(`h1.series-subtitle`).text(),link:a,item:l}}export{a as route};