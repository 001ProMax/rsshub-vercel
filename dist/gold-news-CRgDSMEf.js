import"./esm-shims-CtP6w_ML.js";import"./config-DYqAlsU3.js";import"./logger-BlLSmUdl.js";import{ofetch_default as e}from"./ofetch-CWQqZcqz.js";import{cache_default as t}from"./cache-CvppK6AM.js";import{parseDate as n}from"./parse-date-DHsdom8D.js";import{ViewType as r}from"./types-Bi82qguM.js";import{load as i}from"cheerio";const a=async r=>{let{category:a}=r.req.param(),o=Number.parseInt(r.req.query(`limit`)??`30`,10),s=`https://bullionvault.com`,c=new URL(`gold-news${a?`/${a}`:``}`,s).href,l=await e(c),u=i(l),d=u(`html`).attr(`lang`)??`en`,f=[];return f=u(`section#block-views-latest-articles-block div.media, section#block-system-main table.views-table tr`).slice(0,o).toArray().map(e=>{let t=u(e),r=t.find(`td.views-field-title a, div.views-field-title a`).first(),i=r.text(),a=t.find(`td.views-field-created, div.views-field-created`).text().trim(),o=r.attr(`href`),s=t.find(`a.username`).toArray(),c=s.map(e=>{let t=u(e);return{name:t.text(),url:t.attr(`href`),avatar:void 0}}),l=a,f={title:i,pubDate:a?n(a):void 0,link:o,author:c,updated:l?n(l):void 0,language:d};return f}),f=(await Promise.all(f.map(r=>r.link?t.tryGet(r.link,async()=>{let t=await e(r.link),a=i(t),o=a(`header h1`).text(),s=a(`div[property="content:encoded"]`).html()??``,c=a(`div.submitted`).text().split(/,/).pop(),l=a(`meta[name="news_keywords"]`).attr(`content`)?.split(/,/)??[],u=a(`div.view-author-bio`).toArray(),f=u.map(e=>{let t=a(e);return{name:t.find(`h1`).text(),url:void 0,avatar:t.find(`img`).attr(`src`)}}),p=c,m={title:o,description:s,pubDate:c?n(c):r.pubDate,category:l,author:f,content:{html:s,text:s},updated:p?n(p):r.updated,language:d};return{...r,...m}}):r))).filter(e=>!0),{title:u(`title`).text(),description:u(`meta[property="og:description"]`).attr(`content`),link:c,item:f,allowEmpty:!0,image:u(`meta[property="og:image"]`).attr(`content`),author:u(`meta[property="og:title"]`).attr(`content`)?.split(/\|/).pop(),language:d,id:u(`meta[property="og:url"]`).attr(`content`)}},o={path:`/gold-news/:category?`,name:`Gold News`,url:`bullionvault.com`,maintainers:[`nczitzk`],handler:a,example:`/bullionvault/gold-news`,parameters:{category:{description:`Category`,options:[{label:`Gold market analysis & gold investment research`,value:``},{label:`Opinion & Analysis`,value:`opinion-analysis`},{label:`Gold Price News`,value:`gold-price-news`},{label:`Investment News`,value:`news`},{label:`Gold Investor Index`,value:`gold-investor-index`},{label:`Gold Infographics`,value:`infographics`},{label:`Market Fundamentals`,value:`market-fundamentals`}]}},description:`:::tip
If you subscribe to [Gold Price News](https://www.bullionvault.com/gold-news/gold-price-news)ï¼Œwhere the URL is \`https://www.bullionvault.com/gold-news/gold-price-news\`, extract the part \`https://www.bullionvault.com/gold-news/\` to the end, and use it as the parameter to fill in. Therefore, the route will be [\`/bullionvault/gold-news/gold-price-news\`](https://rsshub.app/bullionvault/gold-news/gold-price-news).
:::

| Category                                                                          | ID                                                                                   |
| --------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------ |
| [Opinion & Analysis](https://www.bullionvault.com/gold-news/opinion-analysis)     | [opinion-analysis](https://rsshub.app/bullionvault/gold-news/opinion-analysis)       |
| [Gold Price News](https://www.bullionvault.com/gold-news/gold-price-news)         | [gold-price-news](https://rsshub.app/bullionvault/gold-news/gold-price-news)         |
| [Investment News](https://www.bullionvault.com/gold-news/news)                    | [news](https://rsshub.app/bullionvault/gold-news/news)                               |
| [Gold Investor Index](https://www.bullionvault.com/gold-news/gold-investor-index) | [gold-investor-index](https://rsshub.app/bullionvault/gold-news/gold-investor-index) |
| [Gold Infographics](https://www.bullionvault.com/gold-news/infographics)          | [infographics](https://rsshub.app/bullionvault/gold-news/infographics)               |
| [Market Fundamentals](https://www.bullionvault.com/gold-news/market-fundamentals) | [market-fundamentals](https://rsshub.app/bullionvault/gold-news/market-fundamentals) |
`,categories:[`finance`],features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportRadar:!0,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`bullionvault.com/gold-news/:category`],target:e=>{let t=e.category;return`/bullionvault/gold-news${t?`/${t}`:``}`}},{title:`Gold market analysis & gold investment research`,source:[`bullionvault.com/gold-news`],target:`/gold-news`},{title:`Opinion & Analysis`,source:[`bullionvault.com/gold-news/opinion-analysis`],target:`/gold-news/opinion-analysis`},{title:`Gold Price News`,source:[`bullionvault.com/gold-news/gold-price-news`],target:`/gold-news/gold-price-news`},{title:`Investment News`,source:[`bullionvault.com/gold-news/news`],target:`/gold-news/news`},{title:`Gold Investor Index`,source:[`bullionvault.com/gold-news/gold-investor-index`],target:`/gold-news/gold-investor-index`},{title:`Gold Infographics`,source:[`bullionvault.com/gold-news/infographics`],target:`/gold-news/infographics`},{title:`Market Fundamentals`,source:[`bullionvault.com/gold-news/market-fundamentals`],target:`/gold-news/market-fundamentals`}],view:r.Articles};export{a as handler,o as route};