import"./esm-shims-CtP6w_ML.js";import"./config-DYqAlsU3.js";import{logger_default as e}from"./logger-BlLSmUdl.js";import"./ofetch-CWQqZcqz.js";import"./helpers-RrXnNmv1.js";import{cache_default as t}from"./cache-CvppK6AM.js";import{parseDate as n}from"./parse-date-DHsdom8D.js";import{got_default as r}from"./got-BwctkUCD.js";import{load as i}from"cheerio";const a=`https://www.moe.gov.cn/`,o=[{type:`policy_anal`,id:`tt_con2`,name:`政策解读`},{type:`newest_file`,id:`nine_con1`,name:`最新文件`},{type:`notice`,id:`nine_con2`,name:`公告公示`},{type:`edu_ministry_news`,id:`nine_con3`,name:`教育部简报`},{type:`edu_focus_news`,id:`eight_con2 .pchide>.TRS_Editor`,name:`教育要闻`}],s={path:`/moe/:type`,categories:[`government`],example:`/gov/moe/policy_anal`,parameters:{type:`分类名`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},name:`新闻`,maintainers:[`Crawler995`],handler:c,description:`|   政策解读   |   最新文件   | 公告公示 |      教育部简报     |     教育要闻     |
| :----------: | :----------: | :------: | :-----------------: | :--------------: |
| policy_anal | newest_file |  notice  | edu_ministry_news | edu_focus_news |`};async function c(s){let c=s.req.param(`type`),l=``,u=``;for(let e of o)e.type===c&&(l=e.id,u=e.name);if(l===``){e.error(`The given type not found.`);return}let d=await r(a),f=i(d.data),p=f(`div#`+l+`>ul>li`);return{title:u,link:a,item:await Promise.all(p.map(async(e,o)=>{o=f(o);let s=o.find(`a`),c=new URL(s.attr(`href`),a).href,l=c.includes(`/live/`)?{description:s.html()}:await t.tryGet(c,async()=>{let e={},t=await r({method:`get`,url:c,headers:{Referer:a}}),n=i(t.data);return c.includes(`www.gov.cn`)?e.description=n(`#UCAP-CONTENT`).html():c.includes(`srcsite`)?e.description=n(`div#content_body_xxgk`).html():c.includes(`jyb_`)&&(e.description=n(`div.moe-detail-box`).html()||n(`div#moe-detail-box`).html()),e});return{title:s.text(),description:l.description,link:c,pubDate:n(o.find(`span`).text(),`MM-DD`)}}).get())}}export{s as route};