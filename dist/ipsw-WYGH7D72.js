import{__dirname as e,init_esm_shims as t}from"./esm-shims-CtP6w_ML.js";import"./config-DYqAlsU3.js";import"./logger-BlLSmUdl.js";import"./ofetch-CWQqZcqz.js";import"./helpers-RrXnNmv1.js";import{art as n}from"./render-DE4LRFBD.js";import{got_default as r}from"./got-BwctkUCD.js";import i from"node:path";import{load as a}from"cheerio";t();const o={path:`/index/:productID`,categories:[`program-update`],example:`/ipsw.dev/index/iPhone16,1`,parameters:{productID:`Product ID`},name:`Apple latest beta firmware`,maintainers:[`RieN7`],handler:s};async function s(t){let{productID:o}=t.req.param(),s=`https://ipsw.dev/product/version/${o}`,c=await r({method:`get`,url:s,headers:{Referer:`https://ipsw.dev/`}}),l=a(c.data),u=l(`#IdentifierModal > div > div > div.modal-body > p:nth-child(1) > em`).text(),d=l(`.firmware`).map((t,r)=>{let a=l(r),s=a.find(`td:nth-child(1) > div > div > strong`).text(),c=a.find(`td:nth-child(1) > div > div > div > code`).text(),d=a.find(`td:nth-child(3)`).text(),f=a.find(`td:nth-child(4)`).text();return{title:`${u} - ${s}`,link:`https://ipsw.dev/download/${o}/${c}`,pubDate:new Date(d).toLocaleDateString(),guid:c,description:n(i.join(e,`templates/description-7a78a0a0.art`),{version:s,build:c,date:d,size:f})}}).get();return{title:`${u} Released`,link:s,item:d}}export{o as route};