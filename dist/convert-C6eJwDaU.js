import"./esm-shims-CtP6w_ML.js";import"./config-DYqAlsU3.js";import"./logger-BlLSmUdl.js";import"./ofetch-CWQqZcqz.js";import"./helpers-RrXnNmv1.js";import{parseDate as e}from"./parse-date-DHsdom8D.js";import{got_default as t}from"./got-BwctkUCD.js";const n={path:`/convert/:query?`,categories:[`finance`],example:`/sse/convert/beginDate=2018-08-18&endDate=2019-08-18&companyCode=603283&title=股份`,parameters:{query:`筛选条件，见示例`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},name:`可转换公司债券公告`,maintainers:[`kt286`],handler:r};async function r(n){let r=n.req.param(`query`)??``,i=`https://bond.sse.com.cn/disclosure/announ/convertible/`,a=`https://www.sse.com.cn`,o=await t(`https://query.sse.com.cn/infodisplay/queryBulletinKzzTipsNew.do`,{searchParams:{isPagination:!0,"pageHelp.pageSize":20,flag:0,_:Date.now(),...r.split(`&`).reduce((e,t)=>{let[n,r]=t.split(`=`);return e[n]=r,e},{})},headers:{Referer:i}}),s=o.data.result.map(t=>({title:t.title,description:`${a}${t.URL}`,pubDate:e(t.ADDDATE),link:`${a}${t.URL}`,author:t.security_Code}));return{title:`上证债券信息网 - 可转换公司债券公告`,link:i,item:s}}export{n as route};