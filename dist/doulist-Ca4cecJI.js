import"./esm-shims-CtP6w_ML.js";import"./config-DYqAlsU3.js";import"./logger-BlLSmUdl.js";import"./ofetch-CWQqZcqz.js";import"./helpers-RrXnNmv1.js";import{got_default as e}from"./got-BwctkUCD.js";import{load as t}from"cheerio";const n={path:`/doulist/:id`,categories:[`social-media`],example:`/douban/doulist/37716774`,parameters:{id:`豆列id`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},name:`豆瓣豆列`,maintainers:[`LogicJake`,`honue`],handler:r};async function r(n){let r=n.req.param(`id`),i=`https://www.douban.com/doulist/${r}`,a=await e({method:`get`,url:i,headers:{Referer:`https://www.douban.com/doulist/${r}`}}),o=t(a.data),s=o(`#content h1`).text().trim(),c=o(`div.doulist-about`).text().trim(),l=o(`div.doulist-item`).map(function(){let e=o(this).find(`div.source`).text().trim(),t=o(this).find(`div.bd.doulist-note div.title a`).text().trim(),n=o(this).find(`div.bd.doulist-note div.title a`).attr(`href`),r=o(this).find(`div.bd.doulist-note  div.abstract`).text().trim();if(e===`来自：豆瓣广播`&&(t=o(this).find(`p.status-content > a`).text().trim(),n=o(this).find(`p.status-content a`).attr(`href`),r=o(this).find(`span.status-recommend-text`).text().trim()),e===`来自：豆瓣电影`||e===`来自：豆瓣`||e===`来自：豆瓣读书`||e===`来自：豆瓣音乐`){t=o(this).find(`div.bd.doulist-subject div.title a`).text().trim(),n=o(this).find(`div.bd.doulist-subject div.title a`).attr(`href`),r=o(this).find(`div.bd.doulist-subject div.abstract`).text().trim();let e=o(this).find(`div.ft div.comment-item.content`).text().trim(),i=o(this).find(`div.post a img`).attr(`src`);r=`<div><img width="100" src="`+i+`"></div>`+r+`<blockquote>`+e+`</blockquote>`}let i=o(this).find(`div.ft div.actions time span`).attr(`title`),a={title:t,link:n,description:r,pubDate:new Date(i).toUTCString()};return a}).get();return{title:s,link:i,description:c,item:l}}export{n as route};