import"./esm-shims-CtP6w_ML.js";import"./config-DYqAlsU3.js";import"./logger-BlLSmUdl.js";import"./ofetch-CWQqZcqz.js";import"./helpers-RrXnNmv1.js";import{cache_default as e}from"./cache-CvppK6AM.js";import{got_default as t}from"./got-BwctkUCD.js";import{load as n}from"cheerio";const r=`https://gixnetwork.org`,i={path:`/gix/news/:category`,categories:[`university`],example:`/uw/gix/news/blog`,parameters:{category:`Blog Type`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`gixnetwork.org/news/:category`]}],name:`Global Innovation Exchange News`,maintainers:[`dykderrick`],handler:a,description:`| Blog | In The News |
| ---- | ----------- |
| blog | inthenews   |`};async function a(i){let a=i.req.param(`category`),o=r+`/news`,s=`UW GIX News - `,c=`body > div.site > div.site-content > div.content-area > main.site-main > `;switch(a){case`blog`:o+=`/blog/`,s+=`Blogs`,c+=`div.blog-wrapper > section.blog-list > article`;break;case`inthenews`:o+=`/inthenews/`,s+=`In The News`,c+=`div.news-wrapper > section.news-list > article`;break}let l=await t(o),u=l.data,d=n(u),f=d(c).map((e,t)=>{t=d(t);let n=t.find(`header`).find(`h2`).find(`a`),r=t.find(`header`).find(`span.h4`).text();return{time:r,link:n.attr(`href`)}}).get(),p=await Promise.all(f.map(r=>e.tryGet(r.link,async()=>{let e=await t(r.link),i=n(e.data);return r.title=i(`header.entry-header`).find(`h1`).text(),r.description=i(`div.entry-content`).html(),r.pubDate=Date.parse(r.time),r})));return{title:s,link:o,item:p}}export{i as route};