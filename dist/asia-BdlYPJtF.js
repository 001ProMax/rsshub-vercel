import"./esm-shims-CtP6w_ML.js";import"./config-DYqAlsU3.js";import"./logger-BlLSmUdl.js";import"./ofetch-CWQqZcqz.js";import"./helpers-RrXnNmv1.js";import{cache_default as e}from"./cache-CvppK6AM.js";import{parseDate as t}from"./parse-date-DHsdom8D.js";import{got_default as n}from"./got-BwctkUCD.js";import{load as r}from"cheerio";const i={path:`/asia`,categories:[`traditional-media`],example:`/nikkei/asia`,radar:[{source:[`asia.nikkei.com/`]}],name:`Nikkei Asia Latest News`,maintainers:[`rainrdx`],handler:a,url:`asia.nikkei.com`};async function a(){let i=`https://asia.nikkei.com/api/__service/next_api/v1/graphql`,a=await n({method:`get`,url:i,searchParams:{operationName:`GetLatestHeadlinesStream`,variables:`{}`,extensions:`{"persistedQuery":{"version":1,"sha256Hash":"287aed8784a3f55ad444bb6b550ebdafb40b0da60c7800081e7343d889975fe8"}}`},headers:{"content-type":`application/json`}}),o=a.data.data.getLatestHeadlines.items.map(e=>({...e,link:new URL(e.path,`https://asia.nikkei.com`).href})),s=await Promise.all(o.map(i=>e.tryGet(i.link,async()=>{let e=i.name,a=t(i.displayDate*1e3),o=i.primaryTag.name,s=await n(i.link),c=r(s.data),l=c(`div[class^="NewsArticle_newsArticleContentContainerWrapper"]`).html()||``,u=c(`div[class^="NewsArticleDetails_newsArticleDetailsByline"]`).text()||``;return{title:e,pubDate:a,category:o,description:l,link:i.link,author:u}})));return{title:`Nikkei Asia`,link:`https://asia.nikkei.com`,image:`https://main-asianreview-nikkei.content.pugpig.com/pugpig_assets/admin/pub120x120.jpg`,item:s}}export{i as route};