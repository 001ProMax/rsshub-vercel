import{__dirname as e,init_esm_shims as t}from"./esm-shims-CtP6w_ML.js";import"./config-DYqAlsU3.js";import"./logger-BlLSmUdl.js";import"./ofetch-CWQqZcqz.js";import"./helpers-RrXnNmv1.js";import{art as n}from"./render-DE4LRFBD.js";import{parseDate as r}from"./parse-date-DHsdom8D.js";import{got_default as i}from"./got-BwctkUCD.js";import{timezone as a}from"./timezone-CCdTtC9I.js";import o from"node:path";t();const s={path:`/column/:id?`,categories:[`traditional-media`],example:`/nmtv/column/877`,parameters:{id:`栏目 id，可在对应栏目 URL 中找到`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},name:`点播`,maintainers:[`nczitzk`],handler:c,description:"::: tip\n  如 [蒙古语卫视新闻联播](http://www.nmtv.cn/folder292/folder663/folder301/folder830/folder877) 的 URL 为 `http://www.nmtv.cn/folder292/folder663/folder301/folder830/folder877`，其栏目 id 为末尾数字编号，即 `877`。可以得到其对应路由为 [`/nmtv/column/877`](https://rsshub.app/nmtv/column/877)\n:::"};async function c(t){let s=t.req.param(`id`)??`877`,c=t.req.query(`limit`)?Number.parseInt(t.req.query(`limit`)):100,l=`https://vod.m2oplus.nmtv.cn`,u=`https://mapi.m2oplus.nmtv.cn`,d=`${u}/api/v1/contents.php?offset=0&count=${c}&column_id=${s}`,f=await i({method:`get`,url:d}),p=f.data,m=p.map(t=>{let i=`${l}/${t.target_path}${t.target_filename}`,s=`${t.type}/${i.match(/\.(\w+)$/)[1]}`;return{title:t.title,link:t.content_url,author:t.column_name,pubDate:a(r(t.publish_time),8),description:n(o.join(e,`templates/description-ffc4bfcb.art`),{type:t.type,image:t.index_pic,file:i}),enclosure_url:i,enclosure_type:s,itunes_duration:t.video.duration,itunes_item_image:t.index_pic}}),h=p[0].column_name,g=p[0].column_info.indexpic;return{title:`内蒙古广播电视台 - ${h}`,link:m[0].link.split(/\/\d{4}-\d{2}-\d{2}\//)[0],item:m,image:`${g.host}${g.filepath}${g.filename}`,itunes_author:h}}export{s as route};