import"./esm-shims-CtP6w_ML.js";import"./config-DYqAlsU3.js";import"./logger-BlLSmUdl.js";import"./ofetch-CWQqZcqz.js";import"./cache-CvppK6AM.js";import{parseDate as e}from"./parse-date-DHsdom8D.js";import{rss_parser_default as t}from"./rss-parser-YsVv5RZS.js";import{finishArticleItem as n}from"./wechat-mp-DRebaZz-.js";const r={path:`/wechat2rss/:id`,categories:[`new-media`],example:`/wechat/wechat2rss/5b925323244e9737c39285596c53e3a2f4a30774`,parameters:{id:"公众号 id，打开 `https://wechat2rss.xlab.app/posts/list/`，在 URL 中找到 id；注意不是公众号页的 id，而是订阅的 id"},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},name:`公众号（Wechat2RSS 来源）`,maintainers:[`TonyRL`],handler:i};async function i(r){let i=r.req.param(`id`),a=`https://wechat2rss.xlab.app`,o=`${a}/feed/${i}.xml`,{title:s,link:c,description:l,image:u,items:d}=await t.parseURL(o),f=d.map(t=>({title:t.title,pubDate:e(t.pubDate),link:t.link}));return f=await Promise.all(f.map(e=>n(e))),{title:s,link:c,description:l,image:u.url,item:f}}export{r as route};