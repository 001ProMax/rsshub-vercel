import"./esm-shims-CGUM9TC6.js";import"./config-C9m9eBw5.js";import"./logger-CC3afzWM.js";import{parseDate as e}from"./parse-date-D4osZfpm.js";import"./dist-0j_z2rfc.js";import"./helpers-nWIDkd0K.js";import{cache_default as t}from"./cache-GwMhal7i.js";import"./ofetch-ZUQ1sEMc.js";import{got_default as n}from"./got-CB83B8oA.js";import{utils_default as r}from"./utils-2WsVAsia.js";const i={path:`/top_news/:id?`,categories:[`new-media`],example:`/dongqiudi/top_news/1`,parameters:{id:`类别 id，不填默认头条新闻`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!0,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`m.dongqiudi.com/home/:id`],target:`/top_news/:id`}],name:`新闻`,maintainers:[`HendricksZheng`],handler:a,description:`| 头条 | 深度 | 闲情 | D 站 | 中超 | 国际 | 英超 | 西甲 | 意甲 | 德甲 |
| ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- | ---- |
| 1    | 55   | 37   | 219  | 56   | 120  | 3    | 5    | 4    | 6    |`};async function a(i){let a=i.req.param(`id`)??1,{data:o}=await n(`https://api.dongqiudi.com/app/tabs/web/${a}.json`),s=o.articles,c=o.label,l=s.map(t=>({title:t.title,link:`https://www.dongqiudi.com/articles/${t.id}.html`,category:[t.category,...t.secondary_category??[]],pubDate:e(t.show_time)})),u=await Promise.all(l.map(e=>t.tryGet(e.link,async()=>{let{data:t}=await n(e.link);return r.ProcessFeedType2(e,t),e})));return{title:`懂球帝 - ${c}`,link:`https://www.dongqiudi.com/articlesList/${a}`,item:u.filter(e=>e!==void 0)}}export{i as route};