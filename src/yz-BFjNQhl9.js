import"./esm-shims-CGUM9TC6.js";import"./config-C9m9eBw5.js";import{logger_default as e}from"./logger-CC3afzWM.js";import{parseDate as t}from"./parse-date-D4osZfpm.js";import"./dist-0j_z2rfc.js";import{cache_default as n}from"./cache-GwMhal7i.js";import{ofetch_default as r}from"./ofetch-ZUQ1sEMc.js";import{timezone as i}from"./timezone-BrNu6iXe.js";import{load as a}from"cheerio";const o={path:`/yz/:category?`,categories:[`university`],example:`/xjtu/yz/zsdt`,parameters:{category:"栏目类型，默认请求`zsdt`，详见下方表格"},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`yz.xjtu.edu.cn/index/:category.htm`],target:`/yz/:category`}],name:`研究生招生信息网`,maintainers:[`YoghurtGuy`],handler:s,description:`栏目类型

| 招生动态 | 通知公告 | 政策法规 | 招生统计 | 历年复试线 | 博士招生 | 硕士招生 | 推免生 | 其他招生 |
| -------- | -------- | -------- | -------- | ---------- | -------- | -------- | ------ | -------- |
| zsdt     | tzgg     | zcfg     | zstj     | lnfsx      | bszs     | sszs     | tms    | qtzs     |`};async function s(o){let{category:s=`zsdt`}=o.req.param(),c=`https://yz.xjtu.edu.cn`,l=await r(`${c}/index/${s}.htm`),u=a(l),d=u(`div.list-con ul li`).toArray().map(e=>{let n=u(e),r=n.find(`a`);return{title:r.attr(`title`),link:new URL(r.attr(`href`),c).href,pubDate:i(t(n.find(`span.date.fr`).text()),8)}}),f=await Promise.all(d.map(t=>n.tryGet(t.link,async()=>{try{let e=await r(t.link),n=a(e);return t.description=n(`#vsb_content`).html()+(n(`form ul`).length>0?n(`form ul`).html():``),t}catch(n){return e.error(`Fetch failed for ${t.link}:`,n),t}})));return{title:`西安交通大学研究生招生信息网`,link:`https://yz.xjtu.edu.cn`,item:f}}export{o as route};