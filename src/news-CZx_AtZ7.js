import"./esm-shims-CGUM9TC6.js";import"./config-C9m9eBw5.js";import"./logger-CC3afzWM.js";import{parseDate as e}from"./parse-date-D4osZfpm.js";import"./dist-0j_z2rfc.js";import"./helpers-nWIDkd0K.js";import{cache_default as t}from"./cache-GwMhal7i.js";import"./ofetch-ZUQ1sEMc.js";import{got_default as n}from"./got-CB83B8oA.js";import{load as r}from"cheerio";const i=`http://www.news.zjut.edu.cn`,a={path:`/news/:type`,categories:[`university`],example:`/zjut/news/5414`,parameters:{type:`分类，见下表`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},name:`浙工大新闻`,maintainers:[`junbaor`,`yikZero`],url:`www.news.zjut.edu.cn`,handler:o,radar:[{source:[`www.news.zjut.edu.cn/:type/list.htm`]}],description:`| 图片新闻 | 工大要闻 | 综合新闻 | 学术・探索 | 三创・人物 | 智库工大 | 美誉工大 | 葵园融媒 |
| -------- | -------- | -------- | ---------- | ---------- | -------- | -------- | -------- |
| 5414     | 5415     | 5416     | 5422       | 5423       | 5424     | 5425     | 5419     |`};async function o(a){let o=a.req.param(`type`),s=await n(`${i}/${o}/list.htm`,{responseType:`buffer`}),c=r(s.data),l=c(`#l-container .news_list > li.news`).toArray().map(t=>{t=c(t);let n=t.find(`a`).text(),r=t.find(`a`).attr(`href`),i=t.find(`span[class='news_meta']`).text();return{title:n,description:``,pubDate:e(i),link:r}}),u=await Promise.all(l.map(e=>e.link.startsWith(`http`)?(e.description=`<a href="${e.link}" target="_blank" rel="noopener noreferrer">${e.link}</a>`,e):t.tryGet(`${i}${e.link}`,async()=>{let t=await n(`${i}${e.link}`),a=r(t.data);return e.link=`${i}${e.link}`,e.description=a(`div[class="wp_articlecontent"]`).html(),e})));return{title:`${c(`.col_title h2`).text()} - 浙江工业大学`,link:`${i}/${o}/list.htm`,item:u}}export{a as route};