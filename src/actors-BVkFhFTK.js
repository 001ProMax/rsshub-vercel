import"./esm-shims-Dqvxr0BZ.js";import"./config-BpwDbAkH.js";import"./logger-B3QfaIfn.js";import"./dist-BYIKqG8W.js";import"./helpers-DzX-lcQO.js";import"./ofetch-CSKgrsrO.js";import{got_default as e}from"./got-CtVGR9YK.js";import{ViewType as t}from"./types-A5bA50Mg.js";import{load as n}from"cheerio";const r=/(?<year>\d{4})-(?<month>\d{2})-(?<day>\d{2})/,i=[/開場 (?<openHr>\d{2}):(?<openMin>\d{2}) 開演 (?<startHr>\d{2}):(?<startMin>\d{2}) 終演 (?<closeHr>\d{2}):(?<closeMin>\d{2})/,/開場 - 開演 (?<openHr>\d{2}):(?<openMin>\d{2}) 終演 (?<closeHr>\d{2}):(?<closeMin>\d{2})/,/開場 (?<openHr>\d{2}):(?<openMin>\d{2}) 開演 - 終演 (?<closeHr>\d{2}):(?<closeMin>\d{2})/],a={path:`/actors/:name/:id`,categories:[`anime`],view:t.Videos,example:`/eventernote/actors/三森すずこ/2634`,parameters:{name:`声优姓名`,id:`声优 ID`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`www.eventernote.com/actors/:name/:id/events`]}],name:`声优活动及演唱会`,maintainers:[`KTachibanaM`],handler:o};async function o(t){let{name:a,id:o}=t.req.param(),s=`${a}のイベント・ライブ情報一覧`,c=`https://www.eventernote.com/actors/${a}/${o}/events`,l=[];for(let t=1;t<=5;t++){let a=c+`?limit=10&page=${t}`,o=await e({method:`get`,url:a}),s=o.data,u=n(s),d=u(`li.clearfix`);if(d.length===0)break;for(let e of d){let t=u(`div.event > h4 > a`,e).text(),n=u(`div.event > div.place > a`,e).text(),a=u(`div.date > p`,e).text().match(r),o=a.groups.year,s=a.groups.month,c=a.groups.day,d=u(`div.event > div.place > span.s`,e).text(),f={openHr:null,openMin:null,startHr:null,startMin:null,closeHr:null,closeMin:null};for(let e of i){let t=d.match(e);if(t===null)continue;f={...f,...t.groups}}let p=u(`div.event > h4 > a`,e).attr(`href`),m=`イベント ${t}
開催場所 ${n}
開場 ${o}-${s}-${c} ${f.openHr}:${f.openMin}
開演 ${o}-${s}-${c} ${f.startHr}:${f.startMin}
終演 ${o}-${s}-${c} ${f.closeHr}:${f.closeHr}
`;l.push({title:t,description:m,link:p})}t+=1}return{title:s,link:c,description:s,language:`ja`,allowEmpty:!0,item:l}}export{a as route};