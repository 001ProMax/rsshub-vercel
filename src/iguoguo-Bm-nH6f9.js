import"./esm-shims-CGUM9TC6.js";import{config as e}from"./config-C9m9eBw5.js";import"./logger-CC3afzWM.js";import{parseDate as t}from"./parse-date-D4osZfpm.js";import"./dist-0j_z2rfc.js";import{cache_default as n}from"./cache-GwMhal7i.js";import{ofetch_default as r}from"./ofetch-ZUQ1sEMc.js";import{load as i}from"cheerio";const a=`https://www.iguoguo.net`,o=e=>n.tryGet(`iguoguo:category:${e}`,async()=>{let t=await r(`${a}/wp-json/wp/v2/categories`,{query:{slug:e}});return t[0].id}),s=(t,i)=>n.tryGet(`iguoguo:posts:${t}`,async()=>{let e=await r(`${a}/wp-json/wp/v2/posts`,{query:{categories:t,per_page:i}});return e},e.cache.routeExpire,!1),c={path:`/html5`,categories:[`design`],example:`/iguoguo/html5`,parameters:{},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},name:`最新 H5`,maintainers:[`yuxinliu-alex`],handler:l};async function l(e){let n=Number.parseInt(e.req.query(`limit`)??`10`),r=`${a}/html5`,c=await o(`h5`),l=await s(c,n),u={jpg:`jpeg`,png:`png`},d=l.map(e=>{let n=i(e.content.rendered),r=n(`p > img`).first().attr(`src`);return n(`p > img`).first().remove(),n(`h4`).each((e,t)=>{n(t).text().includes(`扫码欣赏`)&&n(t).remove()}),{title:e.title.rendered,description:n.html(),link:e.link,cover:r,pubDate:t(e.date_gmt),media:r&&{content:{url:r,type:`image/${u[r.split(`.`).pop()]}`}}}});return{title:`爱果果`,link:r,description:`爱果果iguoguo是一个优秀酷站、h5、UI素材资源的发布分享平台，是设计师的灵感聚合地和素材下载源。`,language:`zh-cn`,item:d}}export{c as route};