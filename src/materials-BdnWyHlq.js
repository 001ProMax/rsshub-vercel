import"./esm-shims-CGUM9TC6.js";import"./config-C9m9eBw5.js";import"./logger-CC3afzWM.js";import{parseDate as e}from"./parse-date-D4osZfpm.js";import"./dist-0j_z2rfc.js";import"./helpers-nWIDkd0K.js";import{cache_default as t}from"./cache-GwMhal7i.js";import"./ofetch-ZUQ1sEMc.js";import{got_default as n}from"./got-CB83B8oA.js";import{ViewType as r}from"./types-A5bA50Mg.js";import{load as i}from"cheerio";const a={path:`/materials/:id?`,categories:[`finance`],view:r.Articles,example:`/youzhiyouxing/materials`,parameters:{id:{description:`分类`,options:[{value:`0`,label:`全部`},{value:`4`,label:`知行小酒馆`},{value:`2`,label:`知行黑板报`},{value:`10`,label:`无人知晓`},{value:`1`,label:`孟岩专栏`},{value:`3`,label:`知行读书会`},{value:`11`,label:`你好，同路人`}],default:`0`}},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`youzhiyouxing.cn/materials`],target:`/materials`}],name:`有知文章`,maintainers:[`broven`,`Fatpandac`,`nczitzk`],handler:o,url:`youzhiyouxing.cn/materials`,description:`| 全部 | 知行小酒馆 | 知行黑板报 | 无人知晓 | 孟岩专栏 | 知行读书会 | 你好，同路人 |
| :--: | :--------: | :--------: | :------: | :------: | :--------: | :----------: |
|   0  |      4     |      2     |    10    |     1    |      3     |      11      |`};async function o(r){let a=r.req.param(`id`)??``,o=`https://youzhiyouxing.cn`,s=`${o}/materials?column_id=${a}`,c=await n({method:`get`,url:s}),l=i(c.data),u=l(`li[id*="material"]`).toArray().map(t=>(t=l(t),{title:t.text(),link:`${o}${t.find(`a`).attr(`href`)}`,pubDate:e(t.find(`.tw-text-t-muted`).text(),[`YYYY年M月D日`,`M月D日`])}));return u=await Promise.all(u.map(e=>t.tryGet(e.link,async()=>{let t=await n({method:`get`,url:e.link}),r=i(t.data);return e.author=r(`.tw-inline`).text().replace(`·`,``),e.description=r(`#zx-material-marker-root`).html().replaceAll(/(<img.*?) src(=.*?>)/g,`$1 data$2`).replaceAll(/(<img.*?) data-src(=.*?>)/g,`$1 src$2`),e}))),{title:`有知有行 - ${l(`a[phx-value-column_id="${a===``?0:a}"]`).text()}`,link:s,item:u}}export{a as route};