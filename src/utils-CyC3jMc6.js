import{__dirname as e,init_esm_shims as t}from"./esm-shims-CGUM9TC6.js";import{parseDate as n}from"./parse-date-D4osZfpm.js";import{cache_default as r}from"./cache-GwMhal7i.js";import{art as i}from"./render-DOz85fGU.js";import{ofetch_default as a}from"./ofetch-ZUQ1sEMc.js";import{timezone as o}from"./timezone-BrNu6iXe.js";import s from"node:path";import c from"markdown-it";t();const l=c({html:!0}),u=`https://utgd.net`,d=`https://api.utgd.net`,f=(e,t)=>e.slice(0,t).map(e=>({id:e.id,title:e.title,link:`${u}/article/${e.id}`,author:e.article_author_displayname,pubDate:o(n(e.article_published_time),8),category:e.article_category.map(e=>e.category_name)})),p=t=>r.tryGet(`untag-${t.id}`,async()=>{let n=await a(`${d}/api/v2/article/${t.id}/`);return t.description=i(s.join(e,`templates/description-03cfe5f7.art`),{membership:n.article_for_membership,image:n.article_image,description:l.render(n.article_content)}),t.category=[...n.article_category.map(e=>e.category_name),...n.article_tag.map(e=>e.tag_name)],t});export{d as apiRootUrl,p as parseArticle,f as parseResult,u as rootUrl};