import"./esm-shims-wKwH419_.js";import"./config-CCdhzIDL.js";import"./logger-tpjCqWRm.js";import"./dist-CTnfpkZH.js";import"./helpers-DzX-lcQO.js";import{parseDate as e}from"./parse-date-Bgabdhlb.js";import"./ofetch-CeSje37P.js";import{got_default as t}from"./got-CgIPcr_1.js";const n={"zh-cn":{"news-all":{id:`255`,title:`最新`},news:{id:`256`,title:`新闻`},notice:{id:`257`,title:`公告`},activity:{id:`258`,title:`活动`},link:`https://sr.mihoyo.com/news`},"zh-tw":{"news-all":{id:`248`,title:`最新`},news:{id:`249`,title:`資訊`},notice:{id:`250`,title:`公告`},activity:{id:`251`,title:`活動`},link:`https://hsr.hoyoverse.com/zh-tw/news`}},r={path:`/sr/:location?/:category?`,categories:[`game`],example:`/mihoyo/sr`,parameters:{location:"区域，可选 `zh-cn`（国服，简中）或 `zh-tw`（国际服，繁中）",category:`分类，见下表，默认为最新`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`sr.mihoyo.com/news`],target:`/sr`}],name:`崩坏：星穹铁道`,maintainers:[`shinanory`],handler:i,url:`sr.mihoyo.com/news`,description:`#### 新闻 {#mi-ha-you-beng-huai-xing-qiong-tie-dao-xin-wen}

| 最新     | 新闻 | 公告   | 活动     |
| -------- | ---- | ------ | -------- |
| news-all | news | notice | activity |`};async function i(r){let{location:i=`zh-cn`,category:a=`news-all`}=r.req.param(),o=r.req.query(`limit`)?Number.parseInt(r.req.query(`limit`)):50,s=i===`zh-cn`?`https://api-takumi-static.mihoyo.com/content_v2_user/app/1963de8dc19e461c/getContentList?iPage=1&iPageSize=${o}&sLangKey=zh-cn&isPreview=0&iChanId=${n[i][a].id}`:`https://api-os-takumi-static.hoyoverse.com/content_v2_user/app/113fe6d3b4514cdd/getContentList?iPage=1&iPageSize=${o}&sLangKey=${i}&isPreview=0&iChanId=${n[i][a].id}`,c=await t(s),l=c.data.data.list,u=l.map(t=>({title:t.sTitle,description:t.sContent,link:`${n[i].link}/${t.iInfoId}`,pubDate:e(t.dtStartTime),category:t.sCategoryName}));return{title:`${n[i][a].title}-崩坏：星穹铁道`,link:s,item:u}}export{r as route};