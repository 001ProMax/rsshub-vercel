import"./esm-shims-CGUM9TC6.js";import"./config-C9m9eBw5.js";import"./logger-CC3afzWM.js";import{parseDate as e}from"./parse-date-D4osZfpm.js";import"./dist-0j_z2rfc.js";import{cache_default as t}from"./cache-GwMhal7i.js";import{ofetch_default as n}from"./ofetch-ZUQ1sEMc.js";import{timezone as r}from"./timezone-BrNu6iXe.js";import{load as i}from"cheerio";const a=`https://cs.zjut.edu.cn/jsp/newsclass.jsp?wcId=`,o=`cs.zjut.edu.cn`,s={path:`/cs/:type`,categories:[`university`],example:`/zjut/cs/54`,parameters:{type:`分类，见下表`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},name:`浙江工业大学计算机科学与技术学院、软件学院`,maintainers:[`zhullyb`],url:`cs.zjut.edu.cn`,handler:c,radar:[{source:[`cs.zjut.edu.cn/jsp/newsclass.jsp`],target:`/cs/:type`}],description:`| 新闻资讯 | 学术动态 | 通知公告 |
| ------- | ------- | ------- |
| 54      | 55      | 53      |`};async function c(s){let c=Number.parseInt(s.req.param(`type`)),l=await n(a+c),u=i(l),d=u(`dl.news`).toArray().map(t=>{let n=u(t),i=n.find(`a`);try{let t=i.text()||``,a=i.attr(`href`);a?a.startsWith(`http`)||(a=`https://`+o+`/jsp/`+a):a=``;let s=r(e(n.find(`.datetime`).text().slice(1,-1)),8);return{title:t,link:a,pubDate:s}}catch{return{title:``,link:``,pubDate:Date.now()}}}).filter(e=>e.title&&e.link),f=await Promise.all(d.map(e=>t.tryGet(e.link,async()=>{let t={...e,description:``};if(o===new URL(e.link).hostname)if(new URL(e.link).pathname.startsWith(`/upload`))t.description=e.link;else{let r=await n(e.link),a=i(r);t.description=a(`div.news1content`).html()||``}else t.description=e.link;return t})));return{title:u(`li#classname`).text()+` - 浙江工业大学计算机科学与技术学院、软件学院`,link:a+c,item:f}}export{s as route};