import{parseDate as e}from"./parse-date-D4osZfpm.js";import{cache_default as t}from"./cache-GwMhal7i.js";import{got_default as n}from"./got-CB83B8oA.js";import{timezone as r}from"./timezone-BrNu6iXe.js";import{load as i}from"cheerio";const a=`https://www.tgb.cn`,o=async a=>await t.tryGet(a.link,async()=>{let t=await n({method:`get`,url:a.link}),o=i(t.data);return o(`#videoImg`).remove(),o(`img`).each((e,t)=>{t.attribs.src2&&(t.attribs.src=t.attribs.src2,delete t.attribs.src2,delete t.attribs[`data-original`])}),a.description=o(`#first`).html(),(t.url?.startsWith(`https://www.tgb.cn/topic/transfer`)||o(`.login-view-button`).length!==0)&&(a.description+=`<br>登录后可查看完整文章`),a.pubDate=r(e(o(`.article-data > span:nth-child(2)`).text().match(/\d{4}-\d{2}-\d{2} \d{2}:\d{2}/)[0]),8),a.category=o(`.classify`).toArray().map(e=>o(e).text().trim()),a});export{o as renderPostDetail,a as rootUrl};