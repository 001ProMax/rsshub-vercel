import"./esm-shims-CGUM9TC6.js";import"./config-C9m9eBw5.js";import"./logger-CC3afzWM.js";import{parseDate as e}from"./parse-date-D4osZfpm.js";import"./dist-0j_z2rfc.js";import"./helpers-nWIDkd0K.js";import{cache_default as t}from"./cache-GwMhal7i.js";import"./ofetch-ZUQ1sEMc.js";import{got_default as n}from"./got-CB83B8oA.js";import{timezone as r}from"./timezone-BrNu6iXe.js";import{load as i}from"cheerio";const a=`https://today.hitwh.edu.cn`,o={path:`/today`,categories:[`university`],example:`/hitwh/today`,parameters:{},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!0,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`hitwh.edu.cn/1024/list.htm`,`hitwh.edu.cn/`]}],name:`今日工大 - 通知公告`,maintainers:[`raptazure`],handler:s,url:`hitwh.edu.cn/1024/list.htm`};async function s(){let o=await n(`${a}/1024/list.htm`,{https:{rejectUnauthorized:!1}}),s=i(o.data),c=e=>e.split(`.`).pop(),l=s(`.list_list_wrap #wp_news_w10002 ul > li`).toArray().map(t=>({pubDate:r(e(s(t).find(`.news-time2`).text()),8),link:new URL(s(t).find(`a`).attr(`href`),a).toString(),title:s(t).find(`a`).text()}));return{title:`哈尔滨工业大学（威海）通知公告`,link:`${a}/1024/list.htm`,item:await Promise.all(l.map(e=>t.tryGet(e.link,async()=>{if(c(e.link)===`htm`)try{let{data:t}=await n(e.link,{https:{rejectUnauthorized:!1}}),r=i(t);return e.description=r(`div.wp_articlecontent`).html()&&r(`div.wp_articlecontent`).html().replaceAll(`src="/`,`src="${a}/`).replaceAll(`href="/`,`href="${a}/`).trim(),e}catch{return e.description=`请进行统一身份认证之后再访问`,e}else return e.description=`此链接为文件，点击以下载`,e})))}}export{o as route};