import"./esm-shims-CGUM9TC6.js";import"./config-C9m9eBw5.js";import"./logger-CC3afzWM.js";import{parseDate as e}from"./parse-date-D4osZfpm.js";import"./dist-0j_z2rfc.js";import"./helpers-nWIDkd0K.js";import{cache_default as t}from"./cache-GwMhal7i.js";import"./ofetch-ZUQ1sEMc.js";import{got_default as n}from"./got-CB83B8oA.js";import{load as r}from"cheerio";import i from"p-map";const a={path:`/realtime/:category?`,categories:[`new-media`],example:`/nextapple/realtime/latest`,parameters:{category:`類別，見下表，默認為首頁`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`tw.nextapple.com/`,`tw.nextapple.com/realtime/:category`]}],name:`最新新聞`,maintainers:[`miles170`],handler:o,url:`tw.nextapple.com/`,description:`| 首頁   | 焦點      | 熱門 | 娛樂          | 生活 | 女神     | 社會  |
| ------ | --------- | ---- | ------------- | ---- | -------- | ----- |
| latest | recommend | hit  | entertainment | life | gorgeous | local |

| 政治     | 國際          | 財經    | 體育   | 旅遊美食  | 3C 車市 |
| -------- | ------------- | ------- | ------ | --------- | ------- |
| politics | international | finance | sports | lifestyle | gadget  |`};async function o(a){let o=a.req.param(`category`)??`latest`,s=`https://tw.nextapple.com/realtime/${o}`,c=await n(s),l=r(c.data),u=await i(l(`article.infScroll`).toArray(),i=>{let a=l(i).find(`.post-title`).attr(`href`);return t.tryGet(a,async()=>{let t=await n(a),i=r(t.data),o=i(`#main-content`),s=o.find(`header h1`),c=s.text();s.remove();let l=o.find(`.post-meta`),u=l.find(`.category`).text(),d=e(l.find(`time`).attr(`datetime`));return l.remove(),i(`.post-comments`).remove(),{title:c,description:o.html(),category:u,pubDate:d,link:a}})},{concurrency:5});return{title:l(`title`).text(),link:s,item:u}}export{a as route};