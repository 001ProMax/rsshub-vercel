import"./esm-shims-CGUM9TC6.js";import"./config-C9m9eBw5.js";import"./logger-CC3afzWM.js";import{parseDate as e}from"./parse-date-D4osZfpm.js";import"./dist-0j_z2rfc.js";import"./helpers-nWIDkd0K.js";import{cache_default as t}from"./cache-GwMhal7i.js";import"./ofetch-ZUQ1sEMc.js";import{got_default as n}from"./got-CB83B8oA.js";import{timezone as r}from"./timezone-BrNu6iXe.js";import{load as i}from"cheerio";const a=(t,a,o)=>Promise.all(t.filter(e=>{let t=i(e,null,!1);return t(`a`).length}).map(t=>{let s=i(t,null,!1),c=new URL(s(`a`).attr(`href`),o.url).href;return a.tryGet(c,async()=>{let t=await n(c),a=t.data;s=i(a),s(`${o.selector.content} img`).each((e,t)=>{let n=s(t),r=n.attr(`src`);r&&n.attr(`src`,new URL(r,o.url).href)}),s(`${o.selector.content} a, ul[style]`).each((e,t)=>{let n=s(t),r=n.attr(`href`);r&&n.attr(`href`,new URL(r,o.url).href)}),s(`img, div, span, p, table, td, tr, a`).removeAttr(`style`),s(`style, script`).remove();let l=s(`h2`).text(),u={title:l,description:s(o.selector.content).html()+(s(`ul[style]`).length?s(`ul[style]`).html():``),link:c,pubDate:r(e(s(`div.ny_fbt`).text().match(/(\d{4}-\d{2}-\d{2} \d{2}:\d{2})/)[0],`YYYY-MM-DD HH:mm`),8),author:`深圳大学研究生招生网`};return u})}));var o={ProcessFeed:a};const s=new Map([[1,{title:`硕士招生 - 深圳大学研究生招生网`}],[2,{title:`博士招生 - 深圳大学研究生招生网`}]]),c={path:`/yz/:type?`,categories:[`university`],example:`/szu/yz/1`,parameters:{type:"默认为 `1`"},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},name:`研究生招生网`,maintainers:[`NagaruZ`],handler:l,description:`| 研究生 | 博士生 |
| ------ | ------ |
| 1      | 2      |`};async function l(e){let r=Number.parseInt(e.req.param(`type`)),a={1:{selector:{list:`.list`,item:`li`,content:`#vsb_content`},url:`https://yz.szu.edu.cn/sszs/gg.htm`},2:{selector:{list:`.list`,item:`li`,content:`#vsb_content, #vsb_content_2`},url:`https://yz.szu.edu.cn/bszs/gg.htm`}};r!==1&&r!==2&&(r=1);let c=a[r].url,l=await n(c),u=l.data,d=i(u),f=d(a[r].selector.list).find(a[r].selector.item).toArray(),p=d(`title`).text(),m=await o.ProcessFeed(f,t,a[r]);return{title:s.get(r).title,link:c,description:p,item:m}}export{c as route};