import"./esm-shims-wKwH419_.js";import"./config-CCdhzIDL.js";import"./logger-tpjCqWRm.js";import"./dist-CTnfpkZH.js";import"./helpers-DzX-lcQO.js";import"./render-CxhTJIsl.js";import"./md5-4BNsOP-F.js";import"./ofetch-CeSje37P.js";import{got_default as e}from"./got-CgIPcr_1.js";import{utils_default as t}from"./utils-BssngW95.js";const n={path:`/weekly/:embed?`,categories:[`social-media`],example:`/bilibili/weekly`,parameters:{embed:`默认为开启内嵌视频, 任意值为关闭`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},name:`B 站每周必看`,maintainers:[`ttttmr`],handler:r};async function r(n){let r=!n.req.param(`embed`),i=await e({method:`get`,url:`https://app.bilibili.com/x/v2/show/popular/selected/series?type=weekly_selected`,headers:{Referer:`https://www.bilibili.com/h5/weekly-recommend`}}),a=i.data.data[0].number,o=i.data.data[0].name,s=await e({method:`get`,url:`https://app.bilibili.com/x/v2/show/popular/selected?type=weekly_selected&number=${a}`,headers:{Referer:`https://www.bilibili.com/h5/weekly-recommend?num=${a}&navhide=1`}}),c=s.data.data.list;return{title:`B站每周必看`,link:`https://www.bilibili.com/h5/weekly-recommend`,description:`B站每周必看`,item:c.map(e=>({title:e.title,description:t.renderUGCDescription(r,e.cover,`${o} ${e.title} - ${e.rcmd_reason}`,e.param,void 0,e.bvid),link:a>60&&e.bvid?`https://www.bilibili.com/video/${e.bvid}`:`https://www.bilibili.com/video/av${e.param}`}))}}export{n as route};