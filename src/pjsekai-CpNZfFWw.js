import"./esm-shims-CGUM9TC6.js";import"./config-C9m9eBw5.js";import"./logger-CC3afzWM.js";import"./dist-0j_z2rfc.js";import"./helpers-nWIDkd0K.js";import{cache_default as e}from"./cache-GwMhal7i.js";import"./ofetch-ZUQ1sEMc.js";import{got_default as t}from"./got-CB83B8oA.js";import{timezone as n}from"./timezone-BrNu6iXe.js";import*as r from"cheerio";const i={path:`/pjsekai/news`,categories:[`game`],example:`/sega/pjsekai/news`,parameters:{},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`pjsekai.sega.jp/news/index.html`]}],name:`世界计划 多彩舞台 ｜ ProjectSekai ｜ プロセカ`,maintainers:[`15x15G`],handler:a,url:`pjsekai.sega.jp/news/index.html`};async function a(){let i=await t.get(`https://cdn.jsdelivr.net/gh/Sekai-World/sekai-master-db-diff@master/userInformations.json`),a=i.data||[],o=await Promise.all(a.map(async i=>{let a=``,o=``,s=i.displayOrder.toString()+i.id.toString();if(i.path.startsWith(`information/`)){let n=i.path.replace(/information\/index.html\?id=/,``);a=`https://production-web.sekai.colorfulpalette.org/${i.path}`;try{o=await e.tryGet(s,async()=>{let e=await t.get(`https://production-web.sekai.colorfulpalette.org/html/${n}.html`),i=r.load(e.data);return i.html()})}catch{o=a}}else a=i.path,o=i.title;let c={title:i.title,link:a,pubDate:n(new Date(i.startAt),8),description:o,category:i.informationTag,guid:s};return c}));return{title:`Project Sekai - News`,link:`https://pjsekai.sega.jp/`,description:`プロジェクトセカイ カラフルステージ！ feat.初音ミク`,item:o}}export{i as route};