import"./esm-shims-CGUM9TC6.js";import"./config-C9m9eBw5.js";import"./logger-CC3afzWM.js";import{parseDate as e}from"./parse-date-D4osZfpm.js";import"./dist-0j_z2rfc.js";import"./helpers-nWIDkd0K.js";import{cache_default as t}from"./cache-GwMhal7i.js";import"./ofetch-ZUQ1sEMc.js";import{got_default as n}from"./got-CB83B8oA.js";import{load as r}from"cheerio";const i={url:`http://jiaowu.xaufe.edu.cn/`,title:`西安财经大学 教务处（招生办公室）`},a={tzgg:{title:`通知公告`,url:`index/tzgg.htm`}},o={path:`/jiaowu/:category?`,categories:[`university`],example:`/xaufe/jiaowu/tzgg`,parameters:{category:`分类，默认为通知公告`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},name:`教务处`,maintainers:[`shaokeyibb`],handler:s,description:`| 通知公告 |
| :------: |
|   tzgg   |`};async function s(o){let s=o.req.param(`category`),c=a[s]||a.tzgg,l=(await n({method:`get`,url:i.url+c.url})).body,u=r(l),d=u(`.main_conRCb ul li`).slice(0,16).toArray().map(t=>{t=u(t);let n=t.children(`span`).text(),r=t.find(`a em`).text(),a=t.children(`a`).attr(`href`).replaceAll(`../`,i.url);return{pubDate:e(n),title:r,link:a}});return{title:`${c.title}-${i.title}`,link:i.url+c.url,description:`${c.title}-${i.title}`,language:`zh_CN`,item:await Promise.all(d.map(e=>t.tryGet(e.link,async()=>{let t=r((await n({method:`get`,url:e.link})).body);return e.author=/作者：(\S*)\s{4}/g.exec(t(`p`,`.main_contit`).text())[1],e.description=t(`#vsb_content`).html(),e})))}}export{o as route};