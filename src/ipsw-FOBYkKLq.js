import{__dirname as e,init_esm_shims as t}from"./esm-shims-wKwH419_.js";import"./config-C9m9eBw5.js";import"./logger-CC3afzWM.js";import"./dist-CTnfpkZH.js";import"./helpers-DzX-lcQO.js";import{art as n}from"./render-CxhTJIsl.js";import"./ofetch-CltKKWIZ.js";import{got_default as r}from"./got-CHeNfUPv.js";import i from"node:path";import{load as a}from"cheerio";t();const o={path:`/index/:productID`,categories:[`program-update`],example:`/ipsw.dev/index/iPhone16,1`,parameters:{productID:`Product ID`},name:`Apple latest beta firmware`,maintainers:[`RieN7`],handler:s};async function s(t){let{productID:o}=t.req.param(),s=`https://ipsw.dev/product/version/${o}`,c=await r({method:`get`,url:s,headers:{Referer:`https://ipsw.dev/`}}),l=a(c.data),u=l(`#IdentifierModal > div > div > div.modal-body > p:nth-child(1) > em`).text(),d=l(`.firmware`).toArray().map(t=>{let r=l(t),a=r.find(`td:nth-child(1) > div > div > strong`).text(),s=r.find(`td:nth-child(1) > div > div > div > code`).text(),c=r.find(`td:nth-child(3)`).text(),d=r.find(`td:nth-child(4)`).text();return{title:`${u} - ${a}`,link:`https://ipsw.dev/download/${o}/${s}`,pubDate:new Date(c).toLocaleDateString(),guid:s,description:n(i.join(e,`templates/description-7a78a0a0.art`),{version:a,build:s,date:c,size:d})}});return{title:`${u} Released`,link:s,item:d}}export{o as route};