import"./esm-shims-CGUM9TC6.js";import"./config-C9m9eBw5.js";import"./logger-CC3afzWM.js";import{parseDate as e}from"./parse-date-D4osZfpm.js";import"./dist-0j_z2rfc.js";import"./helpers-nWIDkd0K.js";import{cache_default as t}from"./cache-GwMhal7i.js";import"./ofetch-ZUQ1sEMc.js";import{got_default as n}from"./got-CB83B8oA.js";const r={path:`/:category?/:order?`,categories:[`game`],example:`/gamer520/switchyouxi`,parameters:{category:`分类，见下表`,order:`排序，发布日期: date; 修改日期: modified`},features:{antiCrawler:!0},name:`文章`,maintainers:[`xzzpig`],handler:a,url:`www.gamer520.com/`,description:`分类

| 所有 | Switch 游戏下载 | 金手指     | 3A 巨作 | switch 主题 | PC 游戏 |
| ---- | --------------- | ---------- | ------- | ----------- | ------- |
| all  | switchyouxi     | jinshouzhi | 3ajuzuo | zhuti       | pcgame  |`};async function i(e){return await t.tryGet(`gamer520:categories`,async()=>{let{data:t}=await n(`${e}/wp-json/wp/v2/categories`);return t.map(e=>({slug:e.slug,id:e.id,name:e.name,link:e.link}))})}async function a(t){let r=`https://www.gamer520.com`,a=await i(r),o=t.req.param(`category`)??`all`,s=t.req.param(`order`),c=a.find(e=>e.slug===o)?.id,{data:l}=await n(`${r}/wp-json/wp/v2/posts`,{searchParams:{categories:c,orderby:s,per_page:t.req.query(`limit`)?Number.parseInt(t.req.query(`limit`)):void 0}}),u=l.map(t=>({guid:`gamer520:${t.id}`,title:t.title.rendered,link:t.guid.rendered,pubDate:e(t.date_gmt),updated:e(t.modified_gmt),category:t.categories?.map(e=>a.find(t=>t.id===e)?.name??``).filter(e=>e!==``)??[],description:t.content.rendered}));return{title:`全球游戏交流中心-`+(a.find(e=>e.slug===o)?.name??`所有`),link:a.find(e=>e.slug===o)?.link??r,item:u}}export{r as route};