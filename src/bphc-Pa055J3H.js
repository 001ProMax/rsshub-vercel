import"./esm-shims-CGUM9TC6.js";import"./config-C9m9eBw5.js";import"./logger-CC3afzWM.js";import{parseDate as e}from"./parse-date-D4osZfpm.js";import{getSubPath as t}from"./common-utils-CI-xkOWZ.js";import"./dist-0j_z2rfc.js";import{cache_default as n}from"./cache-GwMhal7i.js";import{ofetch_default as r}from"./ofetch-ZUQ1sEMc.js";import{timezone as i}from"./timezone-BrNu6iXe.js";const a={"/project":{title:`项目介绍`,list:`/front/index/project/page`,detail:`/front/index/project`,link:`/#/communityDetail?id=`},"/announcement":{title:`通知公告`,list:`/front/announcement/page`,detail:`/front/announcement/`,link:`/#/announcementList/detail?id=`}},o={path:`/beijing/bphc/*`,name:`Unknown`,maintainers:[],handler:s};async function s(o){let s=`https://gycpt.bphc.com.cn`,c=t(o).replaceAll(/(^\/beijing\/bphc|\/$)/g,``),l=c===``?`announcement`:c.endsWith(`/`)?c.slice(0,-1):c,u=a[l],d=`${s}${u.list}`,f=await r(d),p=f.data?.records??[],m=await Promise.all(p.map(t=>{let a=`${s}${u.detail}/${t.id}`;return n.tryGet(a,async()=>{let n=await r(a),o=(n.data?.content||n.data?.introduction)??``,c={title:t.title||t.fullName,author:o.match(/来源：(.*?)</)?.[1].trim()??t.operator,link:`${s}${u.link}${t.id}`,description:o,pubDate:i(e(t.createTime),8)};return c})}));return{title:u.title,link:s,item:m}}export{o as route};