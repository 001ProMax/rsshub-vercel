import"./esm-shims-CGUM9TC6.js";import"./config-C9m9eBw5.js";import"./logger-CC3afzWM.js";import{parseDate as e}from"./parse-date-D4osZfpm.js";import"./dist-0j_z2rfc.js";import"./helpers-nWIDkd0K.js";import{cache_default as t}from"./cache-GwMhal7i.js";import"./ofetch-ZUQ1sEMc.js";import{got_default as n}from"./got-CB83B8oA.js";import{load as r}from"cheerio";const i=`http://www.cst.zju.edu.cn/`,a=new Map([[0,{id:``,title:`浙大软件学院-全部通知`}],[1,{id:`32178/list.htm`,title:`浙大软件学院-招生信息`}],[2,{id:`36216/list.htm`,title:`浙大软件学院-教务管理`}],[3,{id:`36217/list.htm`,title:`浙大软件学院-论文管理`}],[4,{id:`36224/list.htm`,title:`浙大软件学院-思政工作`}],[5,{id:`36228/list.htm`,title:`浙大软件学院-评奖评优`}],[6,{id:`36233/list.htm`,title:`浙大软件学院-实习就业`}],[7,{id:`36235/list.htm`,title:`浙大软件学院-国际实习`}],[8,{id:`36194/list.htm`,title:`浙大软件学院-国内合作科研`}],[9,{id:`36246/list.htm`,title:`浙大软件学院-国际合作科研`}],[10,{id:`36195/list.htm`,title:`浙大软件学院-校园服务`}]]);async function o(t){let a=await n({method:`get`,url:i+t}),o=r(a.data),s=o(`.lm_new`).find(`li`);return s.toArray().map(t=>(t=o(t),{title:t.find(`a`).text(),pubDate:e(t.find(`.fr`).text()),link:new URL(t.find(`a`).attr(`href`),i).href}))}const s={path:`/cst/:type`,categories:[`university`],example:`/zju/cst/0`,parameters:{type:`分类，见下表`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},name:`软件学院`,description:`| 全部通知 | 招生信息 | 教务管理 | 论文管理 | 思政工作 | 评奖评优 | 实习就业 | 国际实习 | 国内合作科研 | 国际合作科研 | 校园服务 |
| -------- | -------- | -------- | -------- | -------- | -------- | -------- | -------- | ------------ | ------------ | -------- |
| 0        | 1        | 2        | 3        | 4        | 5        | 6        | 7        | 8            | 9            | 10       |`,maintainers:[`yonvenne`,`zwithz`],handler:c};async function c(e){let s=Number.parseInt(e.req.param(`type`)),c=i+a.get(s).id,l=[];if(s===0){let e=[];for(let t of a.values())e.push(o(t.id));let t=await Promise.all(e);for(let e of t)l=[...l,...e]}else l=await o(a.get(s).id);let u=await Promise.all(l.map(e=>t.tryGet(e.link,async()=>{let t=await n({method:`get`,url:e.link,headers:{Referer:c}}),i=r(t.data);return e.description=i(`.vid_wz`).html(),e})));return{title:a.get(s).title,link:c,item:u}}export{s as route};