import"./esm-shims-CGUM9TC6.js";import"./config-C9m9eBw5.js";import"./logger-CC3afzWM.js";import{parseDate as e}from"./parse-date-D4osZfpm.js";import"./dist-0j_z2rfc.js";import"./helpers-nWIDkd0K.js";import{cache_default as t}from"./cache-GwMhal7i.js";import"./ofetch-ZUQ1sEMc.js";import{got_default as n}from"./got-CB83B8oA.js";import{load as r}from"cheerio";const i={path:`/`,radar:[{source:[`ahhhhfs.com/`],target:``}],name:`存档列表`,maintainers:[`zhenhappy`],handler:a,url:`ahhhhfs.com/`};async function a(i){let a=await n({method:`get`,url:`https://www.ahhhhfs.com/wp-json/wp/v2/posts`,searchParams:{per_page:i.req.query(`limit`)?Number.parseInt(i.req.query(`limit`)):10,_embed:``}}),o=a.data.map(t=>({title:t.title.rendered,link:t.link,pubDate:e(t.date_gmt),updated:e(t.modified_gmt),author:t._embedded.author[0].name,category:[...new Set(t._embedded[`wp:term`].flatMap(e=>e.map(e=>e.name)))]})),s=await Promise.all(o.map(e=>t.tryGet(e.link,async()=>{let t=await n({method:`get`,url:e.link}),i=r(t.data);return i(`article.post-content`).find(`.lwptoc`).remove(),i(`article.post-content`).find(`#related_posts`).remove(),i(`article.post-content`).find(`.entry-copyright`).remove(),i(`article.post-content img`).each(function(){i(this).replaceWith(`<img src=https:${i(this).attr(`src`)}>`)}),e.description=i(`article.post-content`).html(),e})));return{title:`ahhhhfs-A姐分享`,link:`https://www.ahhhhfs.com`,description:`A姐分享，分享各种网络云盘资源、BT种子、高清电影电视剧和羊毛福利，收集各种有趣实用的软件和APP的下载、安装、使用方法，发现一些稀奇古怪的的网站，折腾一些有趣实用的教程，关注谷歌苹果等互联网最新的资讯动态，探索新领域，发现新美好，分享小快乐。`,item:s}}export{i as route};