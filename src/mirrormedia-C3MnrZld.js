import"./esm-shims-CGUM9TC6.js";import"./config-C9m9eBw5.js";import"./logger-CC3afzWM.js";import{parseDate as e}from"./parse-date-D4osZfpm.js";import"./dist-0j_z2rfc.js";import"./cache-GwMhal7i.js";import{ofetch_default as t}from"./ofetch-ZUQ1sEMc.js";import{getArticle as n}from"./utils-Cb4wuWk8.js";const r={path:`/`,categories:[`traditional-media`],example:`/mirrormedia`,parameters:{},name:`首页`,maintainers:[`dzx-dzx`],radar:[{source:[`mirrormedia.mg`]}],handler:i};async function i(r){let i=`https://www.mirrormedia.mg`,a=await t(`https://v3-statics.mirrormedia.mg/files/json/post_external01.json`),o=[...a.choices.map(e=>({__from:`choices`,...e})),...a.latest.map(e=>({__from:`latest`,...e}))].map(t=>({title:t.title,pubDate:e(t.publishedDate),category:[...(t.sections??[]).map(e=>e.name),t.__from],link:`${i}/${t.style===``?`external`:`story`}/${t.slug}`})).slice(0,r.req.query(`limit`)?Number.parseInt(r.req.query(`limit`),10):20),s=await Promise.all(o.map(e=>n(e)));return{title:`鏡週刊 Mirror Media`,link:i,item:s}}export{r as route};