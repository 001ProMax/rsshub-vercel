import{__dirname as e,init_esm_shims as t}from"./esm-shims-DtWyl6zt.js";import"./config-CT-9jq-j.js";import"./logger-BsClR5PH.js";import"./dist-Bbb0mfHh.js";import"./cache-DNP0KCHb.js";import{art as n}from"./render-sowsPyZZ.js";import{parseDate as r}from"./parse-date-Bgabdhlb.js";import{rofetch as i}from"./ofetch-Dnmc-sKl.js";import{InvalidParameterError as a}from"./invalid-parameter-BQKLs9qN.js";import{baseUrl as o,getCitys as s,getDistricts as c}from"./utils-BcUaZKak.js";import l from"node:path";t();const u=t=>n(l.join(e,`templates/house-7bed2997.art`),t),d={path:`/rent/:city/:district?`,example:`/wellcee/rent/北京`,parameters:{city:`城市`,district:`地区`},name:`租房信息`,maintainers:[`TonyRL`],handler:f,url:`www.wellcee.com`,description:`支持的城市可以通过 [/wellcee/support-city](https://rsshub.app/wellcee/support-city) 获取`};async function f(e){let{city:t,district:n=``}=e.req.param(),l=await s(),d=l.find(e=>e.chCityName===t);if(!d)throw new a(`Invalid city`);let f;if(n){let e=await c(d.id),t=e.find(e=>e.name===n);if(!t)throw new a(`Invalid district`);f=t}let p=await i(`${o}/api/house/filter`,{method:`POST`,body:{districtIds:f?.id?[f.id]:[],subways:[],rentTypeIds:[],timeTypeIds:[],price:[],tagTypeIds:[],cityId:d.id,lang:1,pn:1}}),m=p.data.list.map(e=>({title:e.address,link:`${o}/rent-apartment/${e.id}`,description:u({item:e}),pubDate:r(e.loginTime,`X`),author:e.userInfo.name,category:[...e.tags,...e.typeTags]}));return{title:`${t}${f?.name??``}租房信息 - Wellcee`,description:`${d.statics.online_text} ${d.statics.total_text}`,image:d.icon,icon:d.icon,logo:d.icon,link:`${o}/rent-apartment/${d.cityName}/list?cityId=${d.id}&lang=zh${n?`#districtIds=${f?.id}`:``}`,item:m}}export{d as route};