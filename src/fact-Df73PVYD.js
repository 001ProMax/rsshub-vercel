import{__dirname as e,init_esm_shims as t}from"./esm-shims-CGUM9TC6.js";import"./config-C9m9eBw5.js";import"./logger-CC3afzWM.js";import{parseDate as n}from"./parse-date-D4osZfpm.js";import"./dist-0j_z2rfc.js";import"./helpers-nWIDkd0K.js";import{cache_default as r}from"./cache-GwMhal7i.js";import{art as i}from"./render-DOz85fGU.js";import"./ofetch-ZUQ1sEMc.js";import{got_default as a}from"./got-CB83B8oA.js";import o from"node:path";import{load as s}from"cheerio";import c from"crypto-js";t();const l=()=>c.DES.encrypt(`${Date.now().toString()}-sgn51n6r6q97o6g3`,`jzhotdata`).toString(),u=`https://vp.fact.qq.com`,d={path:`/fact`,categories:[`other`],example:`/qq/fact`,parameters:{},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`vp.fact.qq.com/home`,`vp.fact.qq.com/`]}],name:`最新辟谣`,maintainers:[`hoilc`],handler:f,url:`vp.fact.qq.com/home`};async function f(){let{data:t}=await a(`${u}/api/article/list`,{headers:{Referer:`${u}/home`},searchParams:{page:1,locale:`zh-CN`,token:l()}}),c=t.data.list.map(e=>({title:`【${e.explain}】${e.title}`,description:`<img src="${e.cover}"><br>${e.abstract}`,pubDate:n(e.date,`YYYY-MM-DD`),author:`${e.Author.name} - ${e.Author.desc}`,category:e.tag,link:`${u}/article?id=${e.id}`})),d=await Promise.all(c.map(t=>r.tryGet(t.link,async()=>{let r=await a(t.link),c=s(r.data),l=JSON.parse(c(`#__NEXT_DATA__`).text()),{initialState:u}=l.props.pageProps;return t.description=i(o.join(e,`templates/article-05e51c88.art`),{data:u}),t.pubDate=n(u.createdAt),t})));return{title:`较真查证平台 - 腾讯新闻`,link:`${u}/home`,item:d}}export{d as route};