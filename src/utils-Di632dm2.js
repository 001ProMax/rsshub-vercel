import{config as e}from"./config-C9m9eBw5.js";import{parseDate as t}from"./parse-date-D4osZfpm.js";import{cache_default as n}from"./cache-GwMhal7i.js";import{ofetch_default as r}from"./ofetch-ZUQ1sEMc.js";import{load as i}from"cheerio";const a=`https://cara.app`,o=`${a}/api`,s=`https://cdn.cara.app`;function c(t,n){return r(t,{...n,headers:{"user-agent":e.trueUA}})}async function l(t){let r=await n.tryGet(`${a}:buildId`,async()=>{let e=await c(`${a}/explore`),t=i(e);return JSON.parse(t(`#__NEXT_DATA__`)?.text()??`{}`).buildId},e.cache.routeExpire,!1);return await n.tryGet(`${a}:${t}`,async()=>{let e=await c(`${a}/_next/data/${r}/${t}.json`);return e.pageProps.user})}async function u(e){let n=await c(`${o}/posts/${e.postId}`),r=n.data.images.filter(e=>!e.isCoverImg).map(e=>`<img src="${s}/${e.src}" />`).join(`<br />`),i={title:n.data.title||n.data.content,pubDate:t(n.data.createdAt),link:`${a}/post/${e.postId}`,description:r};return i}export{o as API_HOST,s as CDN_HOST,a as HOST,c as customFetch,u as fetchPortfolioItem,l as parseUserData};