import"./esm-shims-CGUM9TC6.js";import"./config-C9m9eBw5.js";import"./logger-CC3afzWM.js";import{parseDate as e}from"./parse-date-D4osZfpm.js";import"./dist-0j_z2rfc.js";import"./helpers-nWIDkd0K.js";import{cache_default as t}from"./cache-GwMhal7i.js";import"./render-DOz85fGU.js";import"./ofetch-ZUQ1sEMc.js";import{got_default as n}from"./got-CB83B8oA.js";import{ViewType as r}from"./types-A5bA50Mg.js";import{invalid_parameter_default as i}from"./invalid-parameter-CUJdROXf.js";import{isValidHost as a}from"./valid-host-DEPw8oAS.js";import{extractArticle as o,extractWork as s}from"./utils-CxfrbwE5.js";import{load as c}from"cheerio";const l={path:`/user/:uid`,categories:[`design`],view:r.Pictures,example:`/zcool/user/baiyong`,parameters:{uid:`个性域名前缀或者用户ID`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`www.zcool.com.cn/u/:id`],target:`/user/:id`}],name:`用户作品`,description:"  例如:\n\n    站酷的个人主页 `https://baiyong.zcool.com.cn` 对应 rss 路径 `/zcool/user/baiyong`\n\n    站酷的个人主页 `https://www.zcool.com.cn/u/568339` 对应 rss 路径 `/zcool/user/568339`",maintainers:[`junbaor`],handler:u};async function u(r){let l=r.req.param(`uid`),u=`https://www.zcool.com.cn/u/${l}`;if(Number.isNaN(l)){if(!a(l))throw new i(`Invalid uid`);u=`https://${l}.zcool.com.cn`}let{data:d}=await n(u),f=c(d),p=JSON.parse(f(`script#__NEXT_DATA__`).text()),m=p.props.pageProps.workList.map(t=>({title:t.title,link:t.pageUrl,pubDate:e(t.publishTime,`x`),category:[t.objectTypeStr,t.cateStr,t.subCateStr,...t.tags]})),h=await Promise.all(m.map(e=>t.tryGet(e.link,async()=>{let{data:t}=await n(e.link),r=c(t),i=JSON.parse(r(`script#__NEXT_DATA__`).text());return e.link.startsWith(`https://www.zcool.com.cn/article/`)?e.description=o(i):e.link.startsWith(`https://www.zcool.com.cn/work/`)&&(e.description=s(i)),e})));return{title:p.props.pageProps.seo.title,description:p.props.pageProps.seo.description,image:p.props.pageProps.userInfo.avatar.includes(`?x-oss-process`)?p.props.pageProps.userInfo.avatar.split(`?`)[0]:p.props.pageProps.userInfo.avatar,link:u,item:h}}export{l as route};