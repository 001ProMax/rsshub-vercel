import{__dirname as e,init_esm_shims as t}from"./esm-shims-CGUM9TC6.js";import{parseDate as n}from"./parse-date-D4osZfpm.js";import{art as r}from"./render-DOz85fGU.js";import i from"node:path";t();const a=(t,n)=>r(i.join(e,`templates/description-d08e0099.art`),{description:t,images:n}),o=e=>{let t=e.user.nickname,r=e.post.subject,i=`https://www.miyoushe.com/ys/article/${e.post.post_id}`,o=e.post.content||``;try{o=JSON.parse(e.post.content).describe}catch(e){if(!(e instanceof SyntaxError))throw e}let s=a(o||``,[...new Set([e.post.cover,...e.post.images])].filter(Boolean)),c=n(e.post.created_at*1e3),l=e.stat.like_num,u=e.stat.reply_num;return{author:t,title:r,link:i,description:s,pubDate:c,upvotes:l,comments:u}};export{o as post2item};