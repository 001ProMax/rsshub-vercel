import"./esm-shims-CGUM9TC6.js";import"./config-C9m9eBw5.js";import"./logger-CC3afzWM.js";import{parseDate as e}from"./parse-date-D4osZfpm.js";import"./dist-0j_z2rfc.js";import"./helpers-nWIDkd0K.js";import{cache_default as t}from"./cache-GwMhal7i.js";import"./ofetch-ZUQ1sEMc.js";import{got_default as n}from"./got-CB83B8oA.js";import{load as r}from"cheerio";const i={path:`/asia`,categories:[`traditional-media`],example:`/nikkei/asia`,radar:[{source:[`asia.nikkei.com/`]}],name:`Nikkei Asia Latest News`,maintainers:[`rainrdx`],handler:a,url:`asia.nikkei.com`};async function a(){let i=await n({method:`get`,url:`https://asia.nikkei.com/api/__service/next_api/v1/graphql`,searchParams:{operationName:`GetLatestHeadlinesStream`,variables:`{}`,extensions:`{"persistedQuery":{"version":1,"sha256Hash":"287aed8784a3f55ad444bb6b550ebdafb40b0da60c7800081e7343d889975fe8"}}`},headers:{"content-type":`application/json`}}),a=i.data.data.getLatestHeadlines.items.map(e=>({...e,link:new URL(e.path,`https://asia.nikkei.com`).href})),o=await Promise.all(a.map(i=>t.tryGet(i.link,async()=>{let t=i.name,a=e(i.displayDate*1e3),o=i.primaryTag.name,s=await n(i.link),c=r(s.data),l=c(`div[class^="NewsArticle_newsArticleContentContainerWrapper"]`).html()||``,u=c(`div[class^="NewsArticleDetails_newsArticleDetailsByline"]`).text()||``;return{title:t,pubDate:a,category:o,description:l,link:i.link,author:u}})));return{title:`Nikkei Asia`,link:`https://asia.nikkei.com`,image:`https://main-asianreview-nikkei.content.pugpig.com/pugpig_assets/admin/pub120x120.jpg`,item:o}}export{i as route};