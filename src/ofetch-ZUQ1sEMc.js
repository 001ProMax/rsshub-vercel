import{config as e}from"./config-C9m9eBw5.js";import{logger_default as t}from"./logger-CC3afzWM.js";import{Ze as n}from"./dist-0j_z2rfc.js";import{createFetch as r}from"ofetch";e.enableRemoteDebugging&&process.env.NODE_ENV===`dev`&&n();const i=r().create({retryStatusCodes:[400,408,409,425,429,500,502,503,504],retry:e.requestRetry,retryDelay:1e3,onResponseError({request:e,response:n,options:r}){r.retry&&(t.warn(`Request ${e} with error ${n.status} remaining retry attempts: ${r.retry}`),r.headers||(r.headers={}),r.headers instanceof Headers?r.headers.set(`x-prefer-proxy`,`1`):r.headers[`x-prefer-proxy`]=`1`)},onRequestError({request:e,error:n}){t.error(`Request ${e} fail: ${n}`)},headers:{"user-agent":e.ua},onResponse({request:e,response:n}){n.redirected&&t.http(`Redirecting to ${n.url} for ${e}`)}});var a=i;export{a as ofetch_default};