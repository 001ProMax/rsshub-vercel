import"./config-C9m9eBw5.js";import"./logger-CC3afzWM.js";import{parseDate as e}from"./parse-date-D4osZfpm.js";import"./proxy-C5Qog9Rm.js";import{cache_default as t}from"./cache-GwMhal7i.js";import{timezone as n}from"./timezone-BrNu6iXe.js";import{puppeteer_default as r}from"./puppeteer-U-cQNky4.js";import{load as i}from"cheerio";const a={path:`/pbc/tradeAnnouncement`,categories:[`finance`],example:`/gov/pbc/tradeAnnouncement`,parameters:{},features:{requireConfig:!1,requirePuppeteer:!0,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},name:`货币政策司公开市场交易公告`,maintainers:[`nczitzk`],handler:o};async function o(){let a=`http://www.pbc.gov.cn/zhengcehuobisi/125207/125213/125431/125475/index.html`,o=await r(),s=await o.newPage();await s.setRequestInterception(!0),s.on(`request`,e=>{e.resourceType()===`document`||e.resourceType()===`script`?e.continue():e.abort()}),await s.goto(a,{waitUntil:`domcontentloaded`});let c=await s.evaluate(()=>document.documentElement.innerHTML),l=i(c),u=l(`font.newslist_style`).toArray().map(e=>{e=l(e);let t=e.find(`a[title]`);return{title:t.attr(`title`),link:new URL(t.attr(`href`),`http://www.pbc.gov.cn`).href}}),d=await Promise.all(u.map(r=>t.tryGet(r.link,async()=>{let t=await o.newPage();await t.setRequestInterception(!0),t.on(`request`,e=>{e.resourceType()===`document`||e.resourceType()===`script`?e.continue():e.abort()}),await t.goto(r.link,{waitUntil:`domcontentloaded`});let a=await t.evaluate(()=>document.documentElement.innerHTML),s=i(a);return r.description=s(`#zoom`).html(),r.pubDate=n(e(s(`#shijian`).text()),8),r})));return await o.close(),{title:`中国人民银行 - 货币政策司公开市场交易公告`,link:a,item:d}}export{a as route};