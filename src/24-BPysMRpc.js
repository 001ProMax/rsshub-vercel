import"./esm-shims-CGUM9TC6.js";import"./config-C9m9eBw5.js";import"./logger-CC3afzWM.js";import{parseDate as e}from"./parse-date-D4osZfpm.js";import"./dist-0j_z2rfc.js";import"./helpers-nWIDkd0K.js";import{cache_default as t}from"./cache-GwMhal7i.js";import"./ofetch-ZUQ1sEMc.js";import{got_default as n}from"./got-CB83B8oA.js";import{timezone as r}from"./timezone-BrNu6iXe.js";import{load as i}from"cheerio";const a={社会:`shehui`,娱乐:`yule`,国际:`guoji`,军事:`junshi`,养生:`yangsheng`,汽车:`qiche`,体育:`tiyu`,财经:`caijing`,游戏:`youxi`,科技:`keji`,国内:`guonei`,宠物:`chongwu`,情感:`qinggan`,人文:`renwen`,教育:`jiaoyu`},o={path:`/24/:category?`,categories:[`traditional-media`],example:`/eastday/24`,parameters:{category:`分类，见下表，默认为社会`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`mini.eastday.com/`],target:`/24`}],name:`24 小时热闻`,maintainers:[`nczitzk`],handler:s,url:`mini.eastday.com/`,description:`| 推荐 | 社会 | 娱乐 | 国际 | 军事 |
| ---- | ---- | ---- | ---- | ---- |

| 养生 | 汽车 | 体育 | 财经 | 游戏 |
| ---- | ---- | ---- | ---- | ---- |

| 科技 | 国内 | 宠物 | 情感 | 人文 | 教育 |
| ---- | ---- | ---- | ---- | ---- | ---- |`};async function s(o){let s=o.req.param(`category`)??`社会`,c=`https://mini.eastday.com`,l=`${c}/ns/api/detail/trust/trust-news-${a[s]}.json`,u=await n({method:`get`,url:l}),d=JSON.parse(u.data.match(/\((.*)\)/)[1]).data.trust.map(e=>({title:e.topic,link:`${c}${e.url}`})),f=await Promise.all(d.map(a=>t.tryGet(a.link,async()=>{let o=await n({method:`get`,url:a.link}),s=i(o.data),c=Number.parseInt(o.data.match(/var page_num = '(\d+)'/)[1]);if(a.description=s(`#J-contain_detail_cnt`).html(),a.pubDate=r(e(s(`meta[property="og:release_date"]`).attr(`content`)),8),c>1){let e=[];for(let t=2;t<=c;t++)e.push(a.link.replace(/\.html/,`-${t}.html`));for(let r of e)t.tryGet(r,async()=>{let e=await n({method:`get`,url:r}),t=i(e.data);t(`img`).each(function(){t(this).attr(`src`,t(this).attr(`data-url`))}),a.description+=t(`#J-contain_detail_cnt`).html()})}return a})));return{title:`24小时${s}热闻 - 东方资讯`,link:`${c}/#${a[s]}`,item:f}}export{o as route};