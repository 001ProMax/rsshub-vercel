import{__dirname as e,init_esm_shims as t}from"./esm-shims-CGUM9TC6.js";import{parseDate as n}from"./parse-date-D4osZfpm.js";import{cache_default as r}from"./cache-GwMhal7i.js";import{art as i}from"./render-DOz85fGU.js";import{ofetch_default as a}from"./ofetch-ZUQ1sEMc.js";import o from"node:path";import{load as s}from"cheerio";t();const c=`https://visionias.in`;async function l(t,c){return t.link===``?t:await r.tryGet(t.link,async()=>{let r=await a(t.link||``),l=s(r),d=String(l(`meta[property="article:published_time"]`).attr(`content`)),f=String(l(`meta[property="article:modified_time"]`).attr(`content`)),p=l(`meta[property="article:tag"]`).toArray().map(e=>l(e).attr(`content`)),m=l(c),h=m.find(`div.space-y-4 > h1`).text(),g=m.find(`div.flex > div.w-full`),_=g.find(`[x-data^="{isShortArticleOpen"]`),v=g.find(`[x-data^="{isSectionOpen"]`);if(_.length!==0){let r=_.toArray().map(r=>{let a=l(r),s=a.find(`a > div > h2`).text().trim(),c=a.find(`a`).attr(`href`),f=u(a.html()),p=a.find(`ul > li:contains("Tags :")`)?.nextAll(`li`).toArray().map(e=>l(e).text()),m=i(o.join(e,`templates/description-962ff3f8.art`),{heading:s,articleContent:f});return{title:`${s} | ${h}`,pubDate:n(d),category:p,description:m,link:`${t.link}${c}`,author:`Vision IAS`}});return r}else if(v.length===0){let r=u(g.html()),a=i(o.join(e,`templates/description-962ff3f8.art`),{heading:h,articleContent:r});return{title:t.title,pubDate:n(d),category:p,description:a,link:t.link,updated:f?n(f):null,author:`Vision IAS`}}else{let r=v.toArray().map(t=>{let n=l(t),r=n.find(`a > div > h2`).text().trim(),a=u(n.html(),`div.ck-content`),s=i(o.join(e,`templates/description-sub-290c84a9.art`),{heading:r,articleContent:a});return{description:s}}),a=i(o.join(e,`templates/description-962ff3f8.art`),{heading:h,subItems:r});return{title:h,pubDate:n(d),category:p,description:a,link:t.link,updated:f?n(f):null,author:`Vision IAS`}}})}function u(e,t=`div.ck-content`){let n=s(e,null,!1),r=n(e),i=r.find(String(t));i.find(`figure`).each((e,t)=>{n(t).css(`width`,``)});let a=i.html();return a}export{c as baseUrl,l as extractNews};