import"./esm-shims-wKwH419_.js";import"./config-C9m9eBw5.js";import"./logger-CC3afzWM.js";import"./dist-CTnfpkZH.js";import"./cache-Sft5n2jg.js";import"./parse-date-Bgabdhlb.js";import{ofetch_default as e}from"./ofetch-CltKKWIZ.js";import"./timezone-BrNu6iXe.js";import{fetchArticle as t}from"./utils-CxBix5tH.js";import{load as n}from"cheerio";import r from"p-map";const i={path:`/cat/:cat`,categories:[`traditional-media`],example:`/bjnews/cat/depth`,parameters:{cat:`分类, 可从URL中找到`},features:{},radar:[{source:[`www.bjnews.com.cn/:cat`]}],name:`分类`,maintainers:[`dzx-dzx`],handler:a,url:`www.bjnews.com.cn`};async function a(i){let a=`https://www.bjnews.com.cn/${i.req.param(`cat`)}`,o=await e(a),s=n(o),c=s(`#waterfall-container .pin_demo > a`).toArray().slice(0,i.req.query(`limit`)?Number.parseInt(i.req.query(`limit`)):15).map(e=>({title:s(e).text(),link:s(e).attr(`href`),category:s(e).parent().find(`.source`).text().trim()})),l=await r(c,e=>t(e),{concurrency:2});return{title:`新京报 - 分类 - ${s(`.cur`).text().trim()}`,link:a,item:l}}export{i as route};