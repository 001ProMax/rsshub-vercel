import"./esm-shims-CGUM9TC6.js";import"./config-C9m9eBw5.js";import"./logger-CC3afzWM.js";import{parseDate as e}from"./parse-date-D4osZfpm.js";import"./dist-0j_z2rfc.js";import"./helpers-nWIDkd0K.js";import{cache_default as t}from"./cache-GwMhal7i.js";import"./ofetch-ZUQ1sEMc.js";import{got_default as n}from"./got-CB83B8oA.js";import{timezone as r}from"./timezone-BrNu6iXe.js";import{rss_parser_default as i}from"./rss-parser-CLRsacVu.js";import{load as a}from"cheerio";const o={path:`/:lang?/:channel?`,categories:[`traditional-media`],example:`/yna/en/national`,parameters:{lang:"Language, see below, `ko` by default",channel:"RSS Feed Channel, see below, `news` by default"},features:{requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1,requireConfig:!1},name:`News`,maintainers:[`quiniapiezoelectricity`],handler:s,description:"\n| Language  | 한국어 | English | 简体中文 | 日本語 | عربي   | Español | Français |\n| --------- | ------ | ------- | -------- | ------ | ------ | ------- | -------- |\n| `:lang` | `ko` | `en`  | `cn`   | `jp` | `ar` | `es`  | `fr`   |\n\nFor a full list of RSS Feed Channels, please refer to the RSS feed page of the corresponding language\n| RSS Feed Page                                             |\n| --------------------------------------------------------- |\n| [한국어](https://www.yna.co.kr/rss/index?site=footer_rss) |\n| [English](https://en.yna.co.kr/channel/index)             |\n| [简体中文](https://cn.yna.co.kr/channel/index)            |\n| [日本語](https://jp.yna.co.kr/channel/index)              |\n| [عربي](https://ar.yna.co.kr/channel/index)                |\n| [Español](https://sp.yna.co.kr/channel/index)             |\n| [Français](https://fr.yna.co.kr/channel/index)            |\n\n::: tip\nFor example, the path for the RSS feed url https://www.yna.co.kr/rss/economy.xml and https://cn.yna.co.kr/RSS/news.xml would be `/ko/economy` and `/cn/news` respectively. \n:::\n"};async function s(o){let s=o.req.param(`lang`)??`ko`,c=o.req.param(`channel`)??`news`,l;switch(s){case`ko`:l=`https://www.yna.co.kr/rss/${c}.xml`;break;default:l=`https://${s}.yna.co.kr/RSS/${c}.xml`;break}let u=await i.parseURL(l),d=await Promise.all(u.items.map(i=>t.tryGet(i.link,async()=>{i.pubDate=s===`ko`?e(i.pubDate):r(e(i.pubDate),9);let t=await n(i.link),o=a(t.data);i.author=i.creator??o(`.tit-name`).toArray().map(e=>o(e).text()).join(`, `);let c=o(`article.story-news`);return c.find(`.related-group`).remove(),c.find(`.writer-zone01`).remove(),i.description=c.html(),i})));return{title:u.title,link:u.link,description:u.description,language:u.language??s,item:d}}export{o as route};