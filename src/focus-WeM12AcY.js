import"./esm-shims-CGUM9TC6.js";import"./config-C9m9eBw5.js";import"./logger-CC3afzWM.js";import{parseDate as e}from"./parse-date-D4osZfpm.js";import"./dist-0j_z2rfc.js";import"./helpers-nWIDkd0K.js";import{cache_default as t}from"./cache-GwMhal7i.js";import"./ofetch-ZUQ1sEMc.js";import{got_default as n}from"./got-CB83B8oA.js";import{load as r}from"cheerio";const i={all:{title:`全部`,path:``},tech:{title:`科技`,path:`tech/`},finance:{title:`财经`,path:`finance/`},life:{title:`生活`,path:`life/`},company:{title:`公司`,path:`company/`},character:{title:`人物`,path:`character/`}},a=e=>t.tryGet(e.link,async()=>{let t=await n({method:`get`,url:`https:${e.link}`,responseType:`arrayBuffer`}),i=new TextDecoder(`GBK`),a=i.decode(t.data),o=r(a);return e.description=o(`.context-box .context-table tbody td`).html(),e}),o=async t=>{let{category:r=`all`}=t.req.param(),o=i[r]||i.all,s=`https://www.pconline.com.cn/3g/other/focus/${o.path}index.html`,c=await n({method:`get`,url:s}),l=c.data.replace(/Module\.callback\((.*)\)/s,`$1`).split(`
`).filter(e=>e.indexOf(`"tags":`)!==0).join(`
`).replaceAll(`'`,`"`),u=l.replaceAll(/[\n\r]/g,``),d=u.replaceAll(`,}`,`}`),f=JSON.parse(d||``),{articleList:p}=f,m=p.map(t=>({id:t.id,title:t.title,author:[{name:t.authorname,avatar:t.authorImg}],pubDate:e(t.pc_pubDate),link:t.url,description:t.summary,category:t.channelName,image:t.cover})),h=await Promise.all(m.map(e=>a(e)));return{title:`太平洋科技-${o.title}`,link:s,item:h}},s={path:`/focus/:category?`,categories:[`new-media`],example:`/pconline/focus`,parameters:{category:{description:`科技新闻的类别，获取最新的一页，分别：all, tech, finance, life, company, character`,default:`all`}},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`pconline.com.cn/focus/`,`pconline.com.cn/`],target:`/focus`}],name:`科技新闻`,maintainers:[`CH563`],handler:o,description:`::: tip
| 全部 | 科技 | 财经 | 生活 | 公司 | 人物 |
| --- | --- | --- | --- | --- | --- |
| all | tech | finance | life | company | character |
:::`};export{o as handler,s as route};