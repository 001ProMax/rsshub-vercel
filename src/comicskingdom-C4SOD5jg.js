import{__dirname as e,init_esm_shims as t}from"./esm-shims-CGUM9TC6.js";import"./config-C9m9eBw5.js";import"./logger-CC3afzWM.js";import{parseDate as n}from"./parse-date-D4osZfpm.js";import"./dist-0j_z2rfc.js";import"./helpers-nWIDkd0K.js";import{cache_default as r}from"./cache-GwMhal7i.js";import{art as i}from"./render-DOz85fGU.js";import"./ofetch-ZUQ1sEMc.js";import{got_default as a}from"./got-CB83B8oA.js";import{invalid_parameter_default as o}from"./invalid-parameter-CUJdROXf.js";import s from"node:path";import{load as c}from"cheerio";t();const l={path:`/:name`,categories:[`anime`],example:`/comicskingdom/pardon-my-planet`,parameters:{name:`URL path of the strip on comicskingdom.com`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`comicskingdom.com/:name/*`,`comicskingdom.com/:name`]}],name:`Archive`,maintainers:[`stjohnjohnson`],handler:u};async function u(t){let l=t.req.param(`name`),u=`https://comicskingdom.com/${l}/archive`,{data:d}=await a(u),f=c(d),p=f(`title`).text().replace(`Comics Kingdom - `,``).trim(),m=f(`.feature-title h2`).text(),h=f(`div.tile`).toArray().map(e=>f(e).find(`a`).first().attr(`href`));if(h.length===0)throw new o(`Comic Not Found - ${l}`);let g=await Promise.all(h.map(t=>r.tryGet(t,async()=>{let r=await a(t),o=c(r.data),l=o(`meta[property="og:description"]`).attr(`content`),u=o(`meta[property="og:image"]`).attr(`content`),d=i(s.join(e,`templates/desc-158d364d.art`),{image:u}),f=n(t.slice(t.lastIndexOf(`/`)+1),`YYYY-MM-DD`);return{title:l,author:m,category:`comic`,description:d,pubDate:f,link:t}})));return{title:p,link:u,image:f(`.feature-logo`).attr(`src`),item:g,language:`en-US`}}export{l as route};