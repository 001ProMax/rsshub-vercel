import"./esm-shims-CGUM9TC6.js";import"./config-C9m9eBw5.js";import"./logger-CC3afzWM.js";import{parseDate as e}from"./parse-date-D4osZfpm.js";import"./dist-0j_z2rfc.js";import"./helpers-nWIDkd0K.js";import{cache_default as t}from"./cache-GwMhal7i.js";import"./ofetch-ZUQ1sEMc.js";import{got_default as n}from"./got-CB83B8oA.js";import{load as r}from"cheerio";const i={path:`/news/:category`,categories:[`government`],example:`/scpta/news/33`,parameters:{category:{description:"分类ID，默认为`33`(工作动态)",default:`33`}},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`www.scpta.com.cn/front/News/List`],target:`/news`}],name:`通知公告`,maintainers:[`Yeye-0426`],handler:a,description:`| 分类                 | category_id |
|----------------------|-------------|
| 工作动态             | 33          |
| 公务员考试           | 56          |
| 专业技术人员资格考试 | 57          |
| 事业单位考试         | 67          |
| 其它                 | 72          |`};async function a(i){let a=i.req.param(`category`),o=`https://www.scpta.com.cn`,s=`${o}/front/News/List/${a}`,c=await n(s),l=r(c.data),u=l(`div.wrap-content li`).toArray().map(t=>(t=l(t),{title:t.find(`a`).attr(`title`),link:`${o}${t.find(`a`).attr(`href`)}`,pubDate:e(t.find(`span`).text().trim())})),d=await Promise.all(u.map(e=>t.tryGet(e.link,async()=>{let t=``;try{let i=await n(e.link),a=r(i.data);t=a(`div.wrap-content.news-content`).html()}catch{t=`公告内容获取失败`}return e.description=t,e}))),f={33:`工作动态`,56:`公务员考试`,57:`专业技术人员资格考试`,67:`事业单位考试`,72:`其它`};return{title:`通知公告 - ${f[a]||`未知分类`}`,link:s,item:d}}export{i as route};