import"./esm-shims-DtWyl6zt.js";import"./config-C9m9eBw5.js";import"./logger-CC3afzWM.js";import"./dist-CKN2M7CD.js";import"./helpers-DzX-lcQO.js";import{cache_default as e}from"./cache-Sft5n2jg.js";import"./ofetch-CWsaZ4vY.js";import{got_default as t}from"./got-RSSJ34bj.js";import{load as n}from"cheerio";import r from"markdown-it";const i=r({html:!0,breaks:!0}),a={path:`/weekly/:category?`,categories:[`programming`],example:`/docschina/weekly`,parameters:{category:`周刊分类，见下表，默认为js`},name:`周刊 - JavaScript`,maintainers:[`daijinru`,`hestudy`],handler:o,description:`| javascript | node | react |
| ---------- | ---- | ----- |
| js         | node | react |`,radar:[{source:[`docschina.org/news/weekly/js/*`,`docschina.org/news/weekly/js`,`docschina.org/`],target:`/jsweekly`}]};async function o(r){let{category:a=`js`}=r.req.param(),o=`https://docschina.org`,s=`/news/weekly/${a}`,c=`${o}${s}`,{data:l}=await t(c),u=n(l),d=u(`head title`).text(),f=u(`#__NEXT_DATA__`),p=f.text(),m=JSON.parse(p),h=await Promise.all(m?.props?.pageProps?.data?.slice(0,10).map(n=>{let r=`${c}/${n.issue}`;return e.tryGet(r,async()=>{let{data:e}=await t(`${o}/_next/data/${m.buildId}/news/weekly/js/${n.issue}.json`);return{title:n.title,description:i.render(e.pageProps.content),link:r,author:n.editors?.join(`,`),itunes_item_image:n.imageUrl}})})||{});return{title:d,link:c,item:h}}export{a as route};