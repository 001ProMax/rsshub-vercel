import"./esm-shims-CGUM9TC6.js";import"./config-C9m9eBw5.js";import"./logger-CC3afzWM.js";import{parseDate as e}from"./parse-date-D4osZfpm.js";import"./dist-0j_z2rfc.js";import"./helpers-nWIDkd0K.js";import{cache_default as t}from"./cache-GwMhal7i.js";import"./ofetch-ZUQ1sEMc.js";import{got_default as n}from"./got-CB83B8oA.js";import{invalid_parameter_default as r}from"./invalid-parameter-CUJdROXf.js";import{ProcessItem as i,rootUrl as a}from"./utils-DPAlDoEn.js";const o={24:{title:`24小时热榜`,key:`homeData.data.hotlist.data`},renqi:{title:`资讯人气榜`,key:`hotListData.topList`},zonghe:{title:`资讯综合榜`,key:`hotListData.hotList`},shoucang:{title:`资讯综合榜`,key:`hotListData.collectList`}},s={path:`/hot-list/:category?`,categories:[`new-media`],example:`/36kr/hot-list`,parameters:{category:`分类，默认为24小时热榜`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`36kr.com/hot-list/:category`,`36kr.com/`],target:`/hot-list/:category`}],name:`资讯热榜`,maintainers:[`nczitzk`],handler:l,description:`| 24 小时热榜 | 资讯人气榜 | 资讯综合榜 | 资讯收藏榜 |
| ----------- | ---------- | ---------- | ---------- |
| 24          | renqi      | zonghe     | shoucang   |`},c=(e,t)=>{let n=e,r=t.split(`.`);for(let e of r)n=n&&n[e];return n};async function l(s){let l=s.req.param(`category`)??`24`;if(!o[l])throw new r(`This category does not exist. Please refer to the documentation for the correct usage.`);let u=l===`24`?a:`${a}/hot-list/catalog`,d=await n({method:`get`,url:u}),f=c(JSON.parse(d.data.match(/window.initialState=({.*})/)[1]),o[l].key),p=f.slice(0,s.req.query(`limit`)?Number.parseInt(s.req.query(`limit`)):10).filter(e=>e.itemType!==0).map(t=>(t=t.templateMaterial??t,{title:t.widgetTitle.replaceAll(/<\/?em>/g,``),author:t.authorName,pubDate:e(t.publishTime),link:`${a}/p/${t.itemId}`,description:t.summary}));return p=await Promise.all(p.map(e=>i(e,t.tryGet))),{title:`36氪 - ${o[l].title}`,link:u,item:p}}export{s as route};