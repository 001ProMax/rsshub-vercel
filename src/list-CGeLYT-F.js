import"./esm-shims-CGUM9TC6.js";import"./config-C9m9eBw5.js";import"./logger-CC3afzWM.js";import{parseDate as e}from"./parse-date-D4osZfpm.js";import"./dist-0j_z2rfc.js";import"./helpers-nWIDkd0K.js";import{cache_default as t}from"./cache-GwMhal7i.js";import"./ofetch-ZUQ1sEMc.js";import{got_default as n}from"./got-CB83B8oA.js";import{finishArticleItem as r}from"./wechat-mp-BhyqE9dN.js";import{load as i}from"cheerio";const a=`http://job.hrbeu.edu.cn`,o={tzgg:{name:`通知公告`,url:`http://job.hrbeu.edu.cn/HrbeuJY/Web/Home/NewsList?43kuJdqqW6kyCmomBv0smMlyGfDy8QefMwSyc-jK8Ww=.shtml`},rdxw:{name:`热点新闻`,url:`http://job.hrbeu.edu.cn/HrbeuJY/Web/Home/NewsList?43kuJdqqW6kyCmomBv0smLeM5XMyxaJMXP0thrbMBWI=.shtml`}},s={path:`/job/list/:id`,categories:[`university`],example:`/hrbeu/job/list/tzgg`,parameters:{id:`栏目，如下表`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},name:`就业服务平台`,maintainers:[`Derekmini`],description:`| 通知公告 | 热点新闻 |
| :------: | :------: |
|   tzgg   |   rdxw   |`,handler:c};async function c(s){let c=s.req.param(`id`),l=await n(o[c].url,{headers:{Referer:a}}),u=i(l.data),d=u(`li.list_item.i1`).toArray().map(t=>{let n=u(t).find(`a`).attr(`href`);return n.includes(`HrbeuJY`)&&(n=`${a}${n}`),{title:u(t).find(`a`).attr(`title`),pubDate:e(u(t).find(`.Article_PublishDate`).text()),link:n}}),f=await Promise.all(d.map(e=>t.tryGet(e.link,async()=>{if(e.link.includes(`HrbeuJY`)){let t=await n(e.link),r=i(t.data);e.description=r(`.article`).html()}else new URL(e.link).hostname===`mp.weixin.qq.com`?await r(e):e.description=`本文需跳转，请点击标题后阅读`;return e})));return{title:`就业服务平台-`+o[c].name,link:o[c].url,item:f}}export{s as route};