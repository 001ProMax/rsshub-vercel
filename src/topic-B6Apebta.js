import"./esm-shims-CGUM9TC6.js";import{config as e}from"./config-C9m9eBw5.js";import"./logger-CC3afzWM.js";import{parseDate as t}from"./parse-date-D4osZfpm.js";import"./dist-0j_z2rfc.js";import"./helpers-nWIDkd0K.js";import{cache_default as n}from"./cache-GwMhal7i.js";import"./ofetch-ZUQ1sEMc.js";import{got_default as r}from"./got-CB83B8oA.js";import{timezone as i}from"./timezone-BrNu6iXe.js";import{ViewType as a}from"./types-A5bA50Mg.js";const o={path:`/topic/:id`,categories:[`finance`],view:a.Articles,example:`/jin10/topic/396`,parameters:{id:`N`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`xnews.jin10.com/topic/:id`]}],name:`主题文章`,maintainers:[`miles170`],handler:s,url:`jin10.com/`};async function s(a){let o=a.req.param(`id`),s=await n.tryGet(`jin10:topic:${o}`,async()=>{let{data:e}=await r(`https://reference-api.jin10.com/topic/getById?id=${o}`,{headers:{"x-app-id":`g93rhHb9DcDptyPb`,"x-version":`1.0.1`}});return e.data},e.cache.routeExpire,!1),c=await Promise.all(s.list.map(e=>n.tryGet(`jin10:reference:${e.id}`,async()=>{let{data:n}=await r(`https://reference-api.jin10.com/reference/getOne?id=${e.id}&type=news`,{headers:{"x-app-id":`g93rhHb9DcDptyPb`,"x-version":`1.0.1`}});return{title:e.title,description:n.data.content,author:e.author.nick,pubDate:i(t(e.display_datetime),8),link:`https://xnews.jin10.com/details/${e.id}`}})));return{title:s.title,link:`https://xnews.jin10.com/topic/${o}`,description:s.introduction,item:c}}export{o as route};