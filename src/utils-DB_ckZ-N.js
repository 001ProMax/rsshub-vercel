import{parseDate as e}from"./parse-date-D4osZfpm.js";import{cache_default as t}from"./cache-GwMhal7i.js";import{ofetch_default as n}from"./ofetch-ZUQ1sEMc.js";import{load as r}from"cheerio";const i=`https://www.30secondsofcode.org`;async function a(e){let t=await Promise.allSettled(e.map(e=>{let t=r(e),n=t(` article > h3 > a`).attr(`href`),i=t(` article > small > time`).attr(`datetime`);return o({link:n,date:i})}));return t.map(e=>e.status===`fulfilled`?e.value:{title:`Error Reading Item`})}async function o({link:a,date:o}){return await t.tryGet(`30secondsofcode:${a}`,async()=>{let t=`${i}${a}`,s=await n(t),c=r(s),l=c.root().find(`body > main > nav > ol > li:not(:first-child):not(:last-child)`).toArray().map(e=>c(e).find(`a`).text()),u=c(`main > article`),d=u.find(`h1`).text();u.find(`img`).each((e,t)=>{let n=c(t),r=n.attr(`src`);r?.startsWith(`/`)&&n.attr(`src`,`${i}${r}`)});let f=u.find(`img`).attr(`src`),p=u.clone().find(`h1, script`).remove().end().html();return{title:d,link:t,pubDate:e(o),description:p,author:`30 Seconds of Code`,category:l,image:`${i}${f}`,banner:`${i}${f}`}})}export{a as processList,i as rootUrl};