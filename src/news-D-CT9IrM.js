import"./esm-shims-CGUM9TC6.js";import"./config-C9m9eBw5.js";import"./logger-CC3afzWM.js";import{parseDate as e}from"./parse-date-D4osZfpm.js";import"./dist-0j_z2rfc.js";import"./helpers-nWIDkd0K.js";import{cache_default as t}from"./cache-GwMhal7i.js";import"./ofetch-ZUQ1sEMc.js";import{got_default as n}from"./got-CB83B8oA.js";import{load as r}from"cheerio";const i=`https://jw.dhu.edu.cn`,a={student:`/tzggwxszl/list.htm`,teacher:`/tzggwjszl/list.htm`,class:`/tzggwxkzl_19850/list.htm`,fxzy:`/fxzy/list.htm`},o={path:`/jiaowu/news/:type?`,categories:[`university`],example:`/dhu/jiaowu/news/student`,parameters:{type:"默认为 `student`"},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},name:`教务处通知`,maintainers:[`KiraKiseki`],handler:s,description:`| 学生专栏 | 教师专栏 | 选课专栏（仅选课期间开放） | 辅修专业 |
| -------- | -------- | -------- | -------- |
| student  | teacher  | class    | fxzy     |`};async function s(o){let s=o.req.param(`type`)||`student`,c=`${i}${a[s]}`,{data:l}=await n(c),u=r(l),d=await Promise.all(u(`.list2 > li`).toArray().map(async a=>{a=u(a);let o=a.find(`.news_title > a`),s=a.find(`.news_meta`),c=o.attr(`href`),l=o.text(),d=e(s.text(),`YYYY-MM-DD`,`zh-cn`),f=`${i}${c}`;return await t.tryGet(f,async()=>{let e=``;try{let{data:t}=await n(f),i=r(t);e=i(`.wp_articlecontent`).first().html()??``}catch{e=``}return{title:l,link:c,pubDate:d,description:e}})}));return{title:`东华大学教务处-`+u(`.col_title`).text(),link:c,item:d}}export{o as route};