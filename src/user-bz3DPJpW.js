import"./esm-shims-DtWyl6zt.js";import"./config-CT-9jq-j.js";import"./logger-BsClR5PH.js";import"./dist-Bbb0mfHh.js";import"./helpers-DzX-lcQO.js";import{cache_default as e}from"./cache-DNP0KCHb.js";import"./render-sowsPyZZ.js";import{parseDate as t}from"./parse-date-Bgabdhlb.js";import"./ofetch-Dnmc-sKl.js";import{got_default as n}from"./got-CdHCxDMi.js";import{ViewType as r}from"./types-A5bA50Mg.js";import{InvalidParameterError as i}from"./invalid-parameter-BQKLs9qN.js";import{isValidHost as a}from"./valid-host-DEPw8oAS.js";import{extractArticle as o,extractWork as s}from"./utils-CG0GAb7S.js";import{load as c}from"cheerio";const l={path:`/user/:uid`,categories:[`design`],view:r.Pictures,example:`/zcool/user/baiyong`,parameters:{uid:`个性域名前缀或者用户ID`},features:{requireConfig:!1,requirePuppeteer:!1,antiCrawler:!1,supportBT:!1,supportPodcast:!1,supportScihub:!1},radar:[{source:[`www.zcool.com.cn/u/:id`],target:`/user/:id`}],name:`用户作品`,description:"  例如:\n\n    站酷的个人主页 `https://baiyong.zcool.com.cn` 对应 rss 路径 `/zcool/user/baiyong`\n\n    站酷的个人主页 `https://www.zcool.com.cn/u/568339` 对应 rss 路径 `/zcool/user/568339`",maintainers:[`junbaor`],handler:u};async function u(r){let l=r.req.param(`uid`),u=`https://www.zcool.com.cn/u/${l}`;if(Number.isNaN(l)){if(!a(l))throw new i(`Invalid uid`);u=`https://${l}.zcool.com.cn`}let{data:d}=await n(u),f=c(d),p=JSON.parse(f(`script#__NEXT_DATA__`).text()),m=p.props.pageProps.workList.map(e=>({title:e.title,link:e.pageUrl,pubDate:t(e.publishTime,`x`),category:[e.objectTypeStr,e.cateStr,e.subCateStr,...e.tags]})),h=await Promise.all(m.map(t=>e.tryGet(t.link,async()=>{let{data:e}=await n(t.link),r=c(e),i=JSON.parse(r(`script#__NEXT_DATA__`).text());return t.link.startsWith(`https://www.zcool.com.cn/article/`)?t.description=o(i):t.link.startsWith(`https://www.zcool.com.cn/work/`)&&(t.description=s(i)),t})));return{title:p.props.pageProps.seo.title,description:p.props.pageProps.seo.description,image:p.props.pageProps.userInfo.avatar.includes(`?x-oss-process`)?p.props.pageProps.userInfo.avatar.split(`?`)[0]:p.props.pageProps.userInfo.avatar,link:u,item:h}}export{l as route};